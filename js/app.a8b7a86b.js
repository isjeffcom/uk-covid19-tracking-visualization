(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/visual/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},1335:function(t,e,a){},"1d09":function(t,e,a){"use strict";var n=a("6350"),r=a.n(n);r.a},2589:function(t,e,a){"use strict";var n=a("c98b"),r=a.n(n);r.a},"29a5":function(t,e,a){},"3ab4":function(t,e,a){"use strict";var n=a("1335"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.needAlert?a("alert",{attrs:{title:t.firstAlert.title,content:t.firstAlert.content,submit:t.firstAlert.submit}}):t._e(),a("chead"),a("home"),a("div",{attrs:{id:"github"},on:{click:t.toGithub}},[a("img",{attrs:{src:"https://i.ibb.co/27tC8pd/github.png",alt:"to github"}})])],1)},i=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chead"}},[a("div",{attrs:{id:"chead-inner"}},[a("div",{attrs:{id:"chead-logo"}},[a("img",{attrs:{src:"https://i.ibb.co/ssYj6L8/ccc.png",alt:""}})]),a("div",{attrs:{id:"chead-right"}},[a("div",{staticClass:"circle circle-c"}),a("div",[t._v("Live")])])])])}],c={name:"chead",props:{update:{type:String,default:"Unknown"}}},l=c,d=(a("2589"),a("2877")),u=Object(d["a"])(l,o,s,!1,null,"0eebe95f",null),h=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[t.error?a("div",[t._v(" Fail to connect API, please report ISSUE to: "),a("li",[t._v("https://github.com/isjeffcom/coronvirusFigureUK")]),a("li",[t._v("https://spectrum.chat/covid-19-uk-update?tab=posts")])]):t._e(),a("div",{staticClass:"tab-switcher data-switcher"},t._l(t.allData,(function(e,n){return a("div",{key:e.id,staticClass:"ds-single",style:"width:calc(100%/"+t.allData.length+");",on:{click:function(e){return t.switchData(n)}}},[a("div",{staticClass:"ds-text"},[a("span",[t._v(t._s(e.source))])]),n==t.selected?a("div",{staticClass:"ds-ids"}):t._e()])})),0),t.loaded?a("div",{attrs:{id:"overall"}},[a("div",{attrs:{id:"overall-inner"}},[a("div",{attrs:{id:"overall-show"}},t._l(t.renderData,(function(e,n){return a("div",{key:n,staticClass:"overall-single"},[a("div",{staticClass:"overall-single-value",style:"---"==e?"opacity: 0.2;font-weight:bold;":"opacity: 1;font-weight:bold;color:"+t.getColor(n)},["---"==e?a("span",[t._v(t._s(e))]):t._e(),"---"!=e&&isNaN(e)?a("span",[t._v(t._s(e))]):t._e(),"---"==e||isNaN(e)?t._e():a("ICountUp",{attrs:{delay:100,endVal:e,options:t.countUpOptions}})],1),a("div",{staticClass:"overall-single-title"},[a("span",[t._v(t._s(t.getLang(n)))])]),a("div",{staticClass:"overall-single-compare"},[a("span",{style:"color:"+t.getColor(n)+";font-weight: bold; font-size: 14px;opacity: 0.8;"},[t._v(t._s(t.compare(e,n)))])])])})),0),a("div",{attrs:{id:"update"}},[a("div",[t._v(t._s(t.getLang("Update"))+": "+t._s(t.update))])])]),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.getLang("Confirmed")))]),a("br")]),t.chartLoaded?a("div",{staticClass:"chart"},[a("apexchart",{attrs:{width:"100%",height:"320px",type:"area",options:t.chartOptions,series:t.chartData_trend}})],1):t._e(),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.getLang("Increment")))]),a("br")]),t.chartLoaded?a("div",{staticClass:"chart"},[a("apexchart",{attrs:{width:"100%",height:"320px",type:"bar",options:t.chartOptions,series:t.chartData_growth}})],1):t._e(),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.getLang("Tested")))]),a("br"),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v(t._s(t.getLang("Tested = Confirmed + Negative")))]),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v("* "+t._s(t.getLang("Data Incomplete")))])]),t.chartLoaded?a("div",{staticClass:"chart"},[a("apexchart",{attrs:{width:"100%",height:"320px",type:"area",options:t.chartOptions,series:t.chartData_tested}})],1):t._e(),t.areaLoaded?a("div",{attrs:{id:"area"}},[a("div",{staticClass:"title",staticStyle:{background:"#1D1F21",width:"100%","margin-bottom":"0px"}},[a("div",{staticClass:"title-area inner",staticStyle:{width:"90%","padding-top":"20px","padding-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",[t._v(t._s(t.getLang("Regions")))]),a("br"),a("div",{staticStyle:{"font-size":"16px"}},[a("b",{staticStyle:{color:"#7DA5B5"}},[t._v(t._s(t.unknown))]),t._v(" "+t._s(t.getLang("Unknown Locations")))]),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v("* "+t._s(t.getLang("At least 1 day in arrears")))])])]),a("div",{staticClass:"tab-switcher data-switcher"},t._l(t.areaViews,(function(e,n){return a("div",{key:n,staticClass:"ds-single",style:"width:calc(100%/"+t.allData.length+");",on:{click:function(a){return t.switchAreaView(e)}}},[a("div",{staticClass:"ds-text"},[a("span",[t._v(t._s(t.getLang(e)))])]),e==t.currentAreaView?a("div",{staticClass:"ds-ids"}):t._e()])})),0),"map"==t.currentAreaView?a("div",{attrs:{id:"area-map"}},[a("ccmap",{attrs:{mapData:t.mapData}})],1):t._e(),"list"==t.currentAreaView?a("div",{staticStyle:{"margin-top":"40px"}},[a("table",[a("tr",[a("th",[t._v(t._s(t.getLang("Location")))]),a("th",[t._v(t._s(t.getLang("Cases")))])]),t._l(t.renderArea,(function(e){return a("tr",{key:e.location},[a("td",[t._v(t._s(e.location))]),a("td",[t._v(t._s(e.number))])])}))],2)]):t._e()]):t._e()]):t._e(),t._m(0),a("div",{attrs:{id:"sources"}},[a("span",[t._v(t._s(t.getLang("References")))]),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7)]),t.areaLoaded?a("div",{attrs:{id:"donation"}},[a("div",{attrs:{id:"d-inner"}},[a("div",{attrs:{id:"d-cont"}},[a("div",{attrs:{id:"d-title"}},[t._v(t._s(t.getLang("Support Us")))]),a("div",{attrs:{id:"d-sub"}},[t._v(t._s(t.getLang("We promise free access, however, maintaining this server has costs and it's not cheap.")))])]),a("div",{attrs:{id:"d-btn"}},[a("button",{on:{click:function(e){return t.openDonate(!0)}}},[t._v(t._s(t.getLang("SUPPORT")))])])])]):t._e(),t.sourceAlertEnabled?a("alert",{attrs:{title:t.sourceAlert.title,content:t.sourceAlert.content,submit:t.sourceAlert.submit,topColor:t.sourceAlert.topColor,bgColor:t.sourceAlert.bgColor}}):t._e(),t.donate?a("donate"):t._e()],1)},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"more"}},[a("a",{attrs:{href:"https://www.nhs.uk/conditions/coronavirus-covid-19/",target:"_blank"}},[a("img",{attrs:{src:"https://i.ibb.co/RNJTwnx/btn2.png",alt:"to NHS official website for more help and information"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://www.gov.uk/guidance/coronavirus-covid-19-information-for-the-public",target:"_blank"}},[t._v("[Gov]COVID-19: latest information and advice")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://www.gov.uk/government/publications/coronavirus-covid-19-number-of-cases-in-england/coronavirus-covid-19-number-of-cases-in-england",target:"_blank"}},[t._v("[Gov]COVID-19: number of cases in England")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://www.gov.scot/coronavirus-covid-19/",target:"_blank"}},[t._v("[Gov]Coronavirus in Scotland")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://www.arcgis.com/apps/opsdashboard/index.html#/f94c3c90da5b4e9f9a0b19484dd4bb14",target:"_blank"}},[t._v("[Gov]UK GIS Dashboard")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://www.gov.uk/search/news-and-communications",target:"_blank"}},[t._v("[Gov]UK Gov Announcement (search CMO for history data)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://twitter.com/DHSCgovuk",target:"_blank"}},[t._v("[Gov]DHSCgovuk Official Twitter")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://www.worldometers.info/coronavirus/",target:"_blank"}},[t._v("[Media]COVID-19 CORONAVIRUS OUTBREAK (Worldometers)")])])}],g=(a("4160"),a("a9e3"),a("c35a"),a("b680"),a("9911"),a("159b"),a("b0c0"),a("bc3a")),v="https://coronauk.isjeff.com";function m(t,e,a){t=v+t,g.get(b(t,e)).then((function(t){a({status:!0,data:t.data})})).catch((function(t){a({status:!1,error:t})}))}function b(t,e){if(e.length>0){t+="?";for(var a=0;a<e.length;a++)t=a==e.length-1?t+e[a].name+"="+e[a].val:t+e[a].name+"="+e[a].val+"&"}return t}function _(t){return t=String(t),t.length<2?"0"+t:t}function w(t,e){var a,n=new Date(t);return a="date"==e?n.getFullYear()+"-"+_(n.getMonth()+1)+"-"+_(n.getDate()):"datesimple"==e?_(n.getMonth()+1)+"-"+_(n.getDate()):"time"==e?_(n.getHours())+":"+_(n.getMinutes())+":"+_(n.getSeconds()):n.getFullYear()+"-"+_(n.getMonth()+1)+"-"+_(n.getDate())+" "+_(n.getHours())+":"+_(n.getMinutes())+":"+_(n.getSeconds()),a}function y(t,e,a){for(var n=-1,r=0;r<e.length;r++)t==e[r][a]&&(n=r);return n}var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.alertShow,expression:"alertShow"}],attrs:{id:"alert"}},[a("div",{class:t.bgCName,attrs:{id:"alert-bg"}}),a("div",{class:t.windowCName,style:"background:"+t.bgColor+";border-top: 16px solid"+t.topColor+";",attrs:{id:"alert-window"}},[a("div",{attrs:{id:"alert-inner"}},[a("div",{attrs:{id:"alert-title"}},[a("span",[t._v(t._s(t.title))])]),a("div",{attrs:{id:"alert-content"}},[a("div",{domProps:{innerHTML:t._s(t.content)}})])]),a("div",{attrs:{id:"alert-submit"}},[a("button",{on:{click:function(e){return t.go()}}},[t._v(t._s(t.submit))])])])])},C=[],k=new n["a"],A=(a("4dd0"),{name:"alert",props:{title:{type:String,default:"Title"},content:{type:String,default:"Content"},submit:{type:String,default:"submit"},bgColor:{type:String,default:"#FFC634"},topColor:{type:String,default:"#152DFF"}},data:function(){return{alertShow:!0,bgCName:"",windowCName:""}},mounted:function(){this.show(!0)},methods:{show:function(t){var e=this;t?(this.alertShow=t,this.$nextTick((function(){e.windowCName="wShow",e.bgCName="bShow"}))):(this.windowCName="wClose",this.bgCName="bClose",setTimeout((function(){e.alertShow=t}),500))},go:function(){k.$emit("alert-clicked",this.submit),this.show(!1)}}}),L=A,x=(a("1d09"),Object(d["a"])(L,D,C,!1,null,"7f395e72",null)),S=x.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"donate"}},[a("div",{attrs:{id:"donate-inner"}},[a("div",{attrs:{id:"donate-title"}},[t._v(" "+t._s(t.getLang("THANK YOU"))+" ")]),a("div",{attrs:{id:"donate-subtitle"}},[t._v(" "+t._s(t.getLang("Donation will be use for server maintenance, pay for data services(eg. Map), and team members health protection."))+" ")]),a("div",{attrs:{id:"donate-cont"}},[t._m(0),a("div",{attrs:{id:"wechat"}},[a("div",{attrs:{id:"wechat-cont"},on:{click:t.openWCQR}},[a("img",{attrs:{src:"https://i.ibb.co/yFV0MpR/wec.png",alt:"donate by wechat pay"}})])])]),a("div",{attrs:{id:"donate-close"},on:{click:t.close}},[a("div",[t._v(t._s(t.getLang("CLOSE")))])])])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"paypal"}},[a("form",{attrs:{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_blank"}},[a("input",{attrs:{type:"hidden",name:"cmd",value:"_s-xclick"}}),a("input",{attrs:{type:"hidden",name:"hosted_button_id",value:"EY7QJMGB24VBQ"}}),a("input",{attrs:{type:"image",src:"https://i.ibb.co/DpKkpJc/csd.png",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!",alt:"Donate with PayPal button"}}),a("img",{attrs:{alt:"",border:"0",src:"https://www.paypal.com/en_GB/i/scr/pixel.gif",width:"1",height:"1"}})])])}],E=[["Update","最近更新"],["Confirmed","确诊量"],["Increment","增长量"],["Tested","测试量"],["Regions","地域"],["Unknown Locations","位置未知"],["At least 1 day in arrears","相比确诊数据有至少一天的延迟"],["Location","位置"],["Cases","数量"],["References","数据参考"],["Support Us","支持我们"],["SUPPORT","捐赠资助"],["We promise free access, however, maintaining this server has costs and it's not cheap.","本网站是免费的，但维护和运营均产生高昂费用。如果你觉得不错，请帮助我们做的更好。"],["Tested = Confirmed + Negative","测试量 = 确诊 + 阴性"],["Data Incomplete","数据有缺失"],["map","地图"],["list","列表"],["confirmed","确诊"],["death","死亡"],["cured","治愈"],["negative","阴性"],["tested","测试"],["D Co./Te.","日检出"],["serious","危重"],["suspected","疑似"],["THANK YOU","谢谢支持"],["Donation will be use for server maintenance, pay for data services(eg. Map), and team members health protection.","捐赠将会被用于服务维护，支付第三方数据服务(如地图等)，和团队成员的自我卫生保护。"],["CLOSE","关闭"]],N={en:"<br>This is a data visualisation for <b>COVID-19</b> in the UK, but just <b>as a reference</b>. <br><br> You need to understand: <br><br> 1. These data might <b>NOT</b> be completely accurate or updated. <br> 2. All marker on the map represent an area, <b>NOT building or street</b>. <br> 3. The developer takes <b>NO responsibility</b> for data accuracy and service stability. <br><br> Please double check with <b>official channel</b> before act on it. Cookie in used for statistical purposes.",cn:"<br>本页面展示<b>COVID-19</b>英国疫情实时数据可视化, 所有数据及内容<b>仅供参考</b>。 <br><br> 你必须了解以下条款: <br><br> 1. 这些数据可能 <b>不是</b> 最新的或者精确的。 <br> 2. 区域数据中的标记<b>表示区域，不代表街道或建筑</b>。 <br> 3. 开发者<b>没有义务</b>去保证数据的精确及服务的稳定性。 <br><br> 在您基于本数据采取任何行动之前，请参考 <b>官方渠道和指引</b>。 因统计原因浏览器Cookie将被使用。"};function U(t){for(var e=0;e<E.length;e++)if(t==E[e][0])return E[e][1];return t}function z(t){return"zh-CN"==t?N.cn:N.en}var I={name:"donate",data:function(){return{wcqr:!1}},methods:{openWCQR:function(){window.open("https://i.ibb.co/4RwtP7p/cc.jpg")},close:function(){k.$emit("donate-close",!0)},getLang:function(t){return"zh-CN"!=window.navigator.language?t:U(t)}}},P=I,F=(a("3ab4"),Object(d["a"])(P,O,T,!1,null,"5ae63fac",null)),j=F.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?a("l-map",{attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[a("l-tile-layer",{attrs:{url:t.url,detectRetina:!0,attribution:t.attribution}}),t._l(t.mapData,(function(e,n){return a("l-marker",{key:n,attrs:{icon:t.setIcon(e.confirmed),"lat-lng":t.setLatLng(e.la,e.lo)}},[a("l-popup",[a("div",[t._v(" Area: "+t._s(e.name)+" "),a("br"),t._v(" Confirmed: "+t._s(e.confirmed)+" ")])])],1)}))],2):t._e()],1)},R=[],M=a("e11e"),V=a.n(M),G=a("2699"),B=a("a40a"),K=a("4e2b"),H=a("f60f"),Y={name:"ccmap",components:{LMap:G["a"],LTileLayer:B["a"],LMarker:K["a"],LPopup:H["a"]},props:{mapData:{type:Array,value:[]}},data:function(){return{iconResize:3,minSize:16,zoom:5.6,center:V.a.latLng(54.275967,-3.234891),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',withPopup:V.a.latLng(47.41322,-1.219482),withTooltip:V.a.latLng(47.41422,-1.250482),currentZoom:5,currentCenter:V.a.latLng(54.275967,-3.234891),showParagraph:!1,icon:V.a.icon({iconUrl:"https://playground.isjeff.com/marker.svg?v=2",iconSize:[32,32],iconAnchor:[16,16]}),mapOptions:{zoomSnap:.5,easeLinearity:!0,zoomAnimation:!0,fadeAnimation:!0,markerZoomAnimation:!0},showMap:!0}},mounted:function(){},methods:{zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},showLongText:function(){this.showParagraph=!this.showParagraph},setLatLng:function(t,e){return V.a.latLng(t,e)},setIcon:function(t){var e=t*this.iconResize>this.minSize?t*this.iconResize:this.minSize;return V.a.icon({iconUrl:"https://playground.isjeff.com/marker.svg",iconSize:[e,e],iconAnchor:[e/2,e/2]})}}},J=Y,W=Object(d["a"])(J,$,R,!1,null,null,null),Q=W.exports,Z=a("87f4"),q=a.n(Z),X=[{txt:"confirmed",color:"#FF5151"},{txt:"death",color:"#B9A53C"},{txt:"cured",color:"#31DA93"},{txt:"tested",color:"#A4C2D2"},{txt:"negative",color:"#46DEFF"},{txt:"serious",color:"#D21414"},{txt:"D Co./Te.",color:"#F28151"},{txt:"suspected",color:"#A98AFF"}];function tt(t){for(var e=0;e<X.length;e++)if(t==X[e].txt)return X[e].color;return""}var et={name:"home",components:{ccmap:Q,alert:S,donate:j,ICountUp:q.a},data:function(){return{error:!1,lang:"",loaded:!1,chartLoaded:!1,areaLoaded:!1,api:"/",api_history:"/historyfigures",api_locations:"/locations",selected:0,selectedChart:"confirm",allData:[],renderData:{},hiddenData:{},compareData:{},renderArea:{},mapData:[],historyData:[],growthData:[],update:"",unknown:0,areaViews:["map","list"],currentAreaView:"map",countUpOptions:{useEasing:!0,useGrouping:!0,separator:",",decimal:"."},sourceAlertEnabled:!1,sourceAlert:{title:"Source",content:"",submit:"OK",topColor:"#2D3133",bgColor:"#8FA8B8"},chartOptions:{chart:{foreColor:"#8D9EAA",toolbar:{show:!1}},colors:["#F62E3A","#949BB5"],xaxis:{categories:[0,0,0,0,0,0,0,0],labels:{style:{fontSize:"8px"}}},taxis:{abels:{style:{fontSize:"8px"}}}},chartData_trend:[{name:"Confirmed",data:[0,0,0,0,0,0,0]},{name:"Death",data:[0,0,0,0,0,0,0]}],chartData_growth:[{name:"New Cases",data:[0,0,0,0,0,0,0]}],chartData_tested:[{name:"All",data:[0,0,0,0,0,0,0]},{name:"Increment",data:[0,0,0,0,0,0,0]}],donate:!1}},mounted:function(){this.getData(this.api),this.lang=window.navigator.language},created:function(){var t=this;k.$on("alert-clicked",(function(){setTimeout((function(){t.sourceAlertEnabled=!1}),500)})),k.$on("donate-close",(function(){t.donate=!1}))},methods:{getData:function(t){var e=this;m(t,{},(function(t){t.status?(e.allData=t.data.data,e.allData[0].area&&""!=e.allData[0].area&&(e.renderArea=JSON.parse(e.allData[0].area)),e.produceRenderData(),e.calUnknown(),e.update=w(e.allData[0].ts),e.loaded=!0,e.getHistory(e.api_history)):e.error=!0}))},calUnknown:function(){var t=0;this.renderArea&&this.renderArea.forEach((function(e){t+=parseInt(e.number)})),this.unknown=this.allData[0].confirmed-t},getHistory:function(t){var e=this;m(t,{},(function(t){if(t.status){var a=[],n=[],r=[];e.historyData=t.data.data,e.historyData.forEach((function(t,e){t.date=w(t.date,"datesimple"),a.push(t.date),n.push(t.confirmed),r.push(t.death)})),n.push(e.allData[0].confirmed),r.push(e.allData[0].death),a.push(w(Date.parse(new Date),"datesimple")),e.chartOptions.xaxis.categories=a,e.chartData_trend[0].data=n,e.chartData_trend[1].data=r}e.getLocations(e.api_locations),e.chartData_growth[0].data=e.calGrowthRate(e.historyData);var i=e.calTested(e.historyData);e.chartData_tested[0].data=i.all,e.chartData_tested[1].data=i.growth,e.chartLoaded=!0,e.reCalCoTe()}))},getLocations:function(t){var e=this,a=this;m(t,{},(function(t){var n=t.data.data,r=[];e.renderArea.forEach((function(t,e){var a=y(t.location,n,"name");0!=t.number&&-1!=a&&(n[a].confirmed=parseInt(t.number),r.push(n[a]))})),e.mapData=r,setTimeout((function(){a.areaLoaded=!0}),200)}))},findAreaData:function(t,e){for(var a=-1,n=0;n<e.length;n++)t==e[n].location&&(a=e[n].number);return a},getColor:function(t){return tt(t)},getLang:function(t){return"zh-CN"!=this.lang?t:U(t)},calGrowthRate:function(t){var e=[],a=parseInt(this.allData[0].confirmed);return t.forEach((function(n,r){0==r?e.push(n.confirmed-0):r==t.length-1?e.push(a-n.confirmed):e.push(n.confirmed-t[r-1].confirmed)})),e.unshift(0),e},calTested:function(t){var e=this,a=[],n=[];return t.forEach((function(r,i){if(0==r.confirmed||0==r.negative)a.push(0),n.push(0);else{var o=r.confirmed+r.negative;a.push(o),i-1>0?n.push(o-(t[i-1].confirmed+t[i-1].negative)):n.push(0)}if(i==t.length-1){var s=e.allData[0].confirmed+e.allData[0].negative,c=t[t.length-1].confirmed+t[t.length-1].negative;a.push(s),n.push(s-c)}})),{all:a,growth:n}},produceRenderData:function(){var t=this.allData[this.selected],e={confirmed:t.confirmed,death:t.death,tested:0!=t.negative?t.confirmed+t.negative:"---",negative:0==t.negative?"---":t.negative,"D Co./Te.":0!=t.negative?Number.parseFloat(100*(t.confirmed/(t.confirmed+t.negative)).toFixed(2))+"%":"---",cured:0==t.cured?"---":t.cured,serious:0==t.serious?"---":t.serious,suspected:0==t.suspected?"---":t.suspected};this.renderData=e},reCalCoTe:function(){if(this.historyData){var t=this.chartData_tested[1].data,e=this.chartData_growth[0].data,a=0!=t[t.length-1]?t[t.length-1]:t[t.length-2],n=0!=e[t.length-1]?e[t.length-1]:e[t.length-2];this.renderData["D Co./Te."]=Number.parseFloat(100*(n/a).toFixed(4))+"%"}},switchData:function(t){this.selected=t,this.produceRenderData(),0==t&&this.reCalCoTe()},switchAreaView:function(t){this.currentAreaView=t},compare:function(t,e){if(this.historyData.length>0){var a=parseInt(t-this.historyData[this.historyData.length-1][e]);return"tested"==e&&(a=parseInt(t-(this.historyData[this.historyData.length-1].confirmed+this.historyData[this.historyData.length-1].negative))),isNaN(a)?"---":a>=0?"+"+a:"-"+a}return"+0"},sourcePopup:function(){var t=this,e=this.allData[this.selected];this.sourceAlert.content="<br><br>Source Name: "+e.source+". <br><br> Link:<a href='"+e.link+" style='color:#3F8BBE;'>"+e.link+"</a>",this.$nextTick((function(){t.sourceAlertEnabled=!0}))},openDonate:function(t){this.donate=t}}},at=et,nt=(a("d42b"),Object(d["a"])(at,p,f,!1,null,"61c4396a",null)),rt=nt.exports,it=a("4dd0"),ot={name:"App",components:{chead:h,home:rt,alert:S},data:function(){return{firstAlert:{title:"You need to know",content:"<br>This is a data visualisation for <b>COVID-19</b> in the UK, but just <b>as a reference</b>. <br><br> You need to understand: <br><br> 1. These data might <b>NOT</b> be completely accurate or updated. <br> 2. All marker on the map represent an area, <b>NOT building or street</b>. <br> 3. The developer takes <b>NO responsibility</b> for data accuracy and service stability. <br><br> Please double check with <b>official channel</b> before act on it. Cookie in used for statistical purposes.",submit:"I consent"},needAlert:!1}},created:function(){it.get("first")&&"2"==it.get("first")||(this.needAlert=!0),this.firstAlert.content=z(window.navigator.language),k.$on("alert-clicked",(function(t){"I consent"==t&&it.set("first","2")}))},methods:{toGithub:function(){window.open("https://github.com/isjeffcom/coronvirusFigureUK")}}},st=ot,ct=(a("034f"),Object(d["a"])(st,r,i,!1,null,null,null)),lt=ct.exports,dt=a("1321"),ut=a.n(dt);a("6cc5");n["a"].use(ut.a),n["a"].component("apexchart",ut.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(lt)}}).$mount("#app")},6350:function(t,e,a){},"85ec":function(t,e,a){},c98b:function(t,e,a){},d42b:function(t,e,a){"use strict";var n=a("29a5"),r=a.n(n);r.a}});
//# sourceMappingURL=app.a8b7a86b.js.map