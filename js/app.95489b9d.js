(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"117f":function(t,e,a){},"21f4":function(t,e,a){},2215:function(t,e,a){"use strict";var n=a("a45a"),r=a.n(n);r.a},2217:function(t,e,a){},"280d":function(t,e,a){},2975:function(t,e,a){"use strict";var n=a("117f"),r=a.n(n);r.a},"3ff6":function(t,e,a){"use strict";var n=a("6697"),r=a.n(n);r.a},4002:function(t,e,a){},"4b5d":function(t,e,a){"use strict";var n=a("eca1"),r=a.n(n);r.a},"4bbe":function(t,e,a){"use strict";var n=a("280d"),r=a.n(n);r.a},5349:function(t,e,a){"use strict";var n=a("f413"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.noticeOpen?a("div",{attrs:{id:"end"}},[a("div",{attrs:{id:"end-inner"}},[t._m(0),t._m(1),a("br"),t._m(2),a("br"),t._m(3),a("br"),a("br"),a("br"),t._m(4),t._m(5),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),t.noticeOpen?a("button",{on:{click:function(e){t.noticeOpen=!1}}},[t._v("CONTINUE")]):t._e()])]):t._e(),t.needAlert?a("alert",{attrs:{title:t.firstAlert.title,content:t.firstAlert.content,submit:t.firstAlert.submit}}):t._e(),a("chead"),a("router-view")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticStyle:{"font-size":"24px","font-weight":"bold"}},[t._v("End of service notice:")]),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v(" This website started to provide COVID-19 UK information since the 6th of March 2020 at the very beginning of the lockdown. The COVID-19 epidemic has gradually eased. Unlike four months ago, the official channel now provides better quality and much more reliable data than most of the third-party tracker. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v(" I've made a hard decision: COVID19UK.LIVE website should soon stop maintaining. For API users, please try to find an alternative as quickly as possible or you can download my scaper source code from "),a("a",{attrs:{href:"https://github.com/isjeffcom/coronvirusFigureUK"}},[t._v("here")]),t._v(". ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v(" Thank you for your support. Stay safe. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("The Offical Data Sources:")]),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",[a("a",{attrs:{href:"https://coronavirus.data.gov.uk/"}},[t._v("UK National Dashboard / England Dashboard")])])]),a("br"),a("div",[a("p",[a("a",{attrs:{href:"https://public.tableau.com/profile/public.health.wales.health.protection#!/vizhome/RapidCOVID-19virology-Public/Headlinesummary"}},[t._v("Wales Dashboard")])])]),a("br"),a("div",[a("p",[a("a",{attrs:{href:"https://www.publichealthscotland.scot/our-areas-of-work/sharing-our-data-and-intelligence/coronavirus-covid-19-data/"}},[t._v("Scotland Dashboards and Statistic Reports")])])]),a("br"),a("div",[a("p",[a("a",{attrs:{href:"https://www.publichealthscotland.scot/our-areas-of-work/sharing-our-data-and-intelligence/coronavirus-covid-19-data/"}},[t._v("North Ireland Dashboard")])])])])}],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chead"}},[a("div",{attrs:{id:"chead-inner"}},[a("div",{attrs:{id:"chead-logo"}},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:"./img/logo.png",alt:"logo"}})])],1),t._m(0)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chead-right"}},[a("div",{staticClass:"circle circle-c"}),a("div",[t._v("LIVE")])])}],c={name:"chead",props:{update:{type:String,default:"Unknown"}}},l=c,d=(a("8a30"),a("2877")),u=Object(d["a"])(l,s,o,!1,null,"236b9c0a",null),h=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.alertShow,expression:"alertShow"}],attrs:{id:"alert"}},[a("div",{class:t.bgCName,attrs:{id:"alert-bg"}}),a("div",{class:t.windowCName,style:"background:"+t.bgColor+";border-top: 16px solid"+t.topColor+";",attrs:{id:"alert-window"}},[a("div",{attrs:{id:"alert-inner"}},[a("div",{attrs:{id:"alert-title"}},[a("span",[t._v(t._s(t.title))])]),a("div",{attrs:{id:"alert-content"}},[a("div",{domProps:{innerHTML:t._s(t.content)}})])]),a("div",{attrs:{id:"alert-submit"}},[a("button",{staticStyle:{"padding-top":"7px"},on:{click:function(e){return t.go()}}},[t._v(t._s(t.submit))])])])])},m=[],f=new n["a"],g=(a("4dd0"),{name:"alert",props:{title:{type:String,default:"Title"},content:{type:String,default:"Content"},submit:{type:String,default:"submit"},bgColor:{type:String,default:"#FFC634"},topColor:{type:String,default:"#152DFF"}},data:function(){return{alertShow:!0,bgCName:"",windowCName:""}},mounted:function(){this.show(!0)},methods:{show:function(t){var e=this;t?(this.alertShow=t,this.$nextTick((function(){e.windowCName="wShow",e.bgCName="bShow"}))):(this.windowCName="wClose",this.bgCName="bClose",setTimeout((function(){e.alertShow=t}),500))},go:function(){f.$emit("alert-clicked",this.submit),this.show(!1)}}}),v=g,b=(a("c6ea"),Object(d["a"])(v,p,m,!1,null,"17d9e18c",null)),_=b.exports,y=[["Update","最近更新"],["Regions","地域"],["Data","数据"],["Case","确诊"],["Death","死亡"],["Hospital","在院"],["hospital","在院"],["england","英格兰"],["scotland","苏格兰"],["wales","威尔士"],["n. ireland","北爱尔兰"],["Data might be incompleted","数据有可能不完整"],["Rotate your device","旋转你的设备"],["C&D","确诊/死亡"],["Daily Increase","日增长"],["Growth Rate","增长率"],["Death Increase","死亡增量"],["Mortality Rate","死亡率"],["Tested Number","测试数"],["Positive Rate","确诊率"],["Confirmed","确诊"],["Full Chart","全屏查看"],["Herd Immunity","群体免疫"],["UK Population","英国总人口"],["Immunity Point","生效人口比例"],["Million","百万"],["Progress","进度"],["Test","测试"],["Unknown Locations","位置未知"],["At least 1 day in arrears","相比确诊数据有至少一天的延迟"],["Location","位置"],["Cases","数量"],["References","数据参考"],["Support Us","支持我们"],["SUPPORT","捐赠资助"],["We have collected more than enough donations for the basic need. Welcome to buy us a coffee.","我们已经收集到足够的捐赠，如果你依旧喜欢，可以给我们买一杯咖啡。"],["Map","地图"],["List","列表"],["Postcode","邮编"],["Search by place","通过地区关键字搜索"],["Search by Postcode","通过邮编搜索"],["Cases Near","案例临近"],["Analysis","数据解析"],["Europe","欧洲主要"],["UK Prediction","英国预测"],["Prediction model based on ANN machine learning algorithm trained with Italy, Germany and France's data.","预测模型基于ANN机器学习算法，参考意大利，德国和法国数据。"],["Constantly Optimising by @Big-Tree, @Jimmy.","由 @林大树 和 @陆嘉铭 同学持续开发和优化"],["@Jeff wu @vincent zhang","@Jeff Wu @张盛伟"],["BACK","返回"],["Built for PC","使用PC查看以获得最佳体验"],["confirmed","确诊"],["death","死亡"],["cured","治愈"],["negative","阴性"],["people tested","测试人次"],["D. Posi.","日检出"],["Posi. Rate","检出率"],["mortality","死亡率"],["serious","危重"],["suspected","疑似"],["tests done","测试总量"],["Countries data might have delay from the cases data","各国数据可能有延迟"],["Cases Map","周边疫情"],["Data Source","数据来源"],["Timeline","时间轴"],["All","全部"],["BACK","返回"],["Key Data","关键数据"],["Global data has 1 Day Delay","全球数据有1天延迟"],["Global Cases","全球感染"],["Global Death","全球死亡"],["[UK]Cases to go until herd immunity(60%)","英国距群体免疫还需(60%人口)"],["Group Up","群组讨论"],["By","通过"],["THANK YOU","谢谢支持"],["Donation will be use for server maintenance, pay for data services(eg. Map), and team members health protection.","捐赠将会被用于服务维护，支付第三方数据服务(如地图等)，和团队成员的自我卫生保护。"],["CLOSE","关闭"],["Data Release","数据更新时间"],["when gov.uk website was edited (some might not updating figures)","显示官方信息何时被编辑过(部分行为可能不是更新数据)"],["Author","作者"],["Contributor","团队贡献"],["Others","其他国家"]],w={en:"<br>This data is a visualization for COVID-19 in the UK. <b>For reference purposes only.</b>. <br><br> You need to be aware: <br><br> 1. This data may not be completely <b>accurate or up to date</b>. <br> 2. All the markers on the map represent an area and <b>not buildings or streets</b>. <br> 3. The developer takes <b>no</b> responsibility for the accuracy of the data nor the service's stability. <br><br> Please double check with the <b>official channels<b> before acting on it. Cookies are used for statistical purposes only.",cn:"<br>本页面展示<b>COVID-19</b>英国疫情实时数据可视化, 所有数据及内容<b>仅供参考</b>。 <br><br> 你必须了解以下条款: <br><br> 1. 这些数据可能 <b>不是</b> 最新的或者精确的。 <br> 2. 区域数据中的标记<b>表示区域，不代表街道或建筑</b>。 <br> 3. 开发者<b>没有义务</b>去保证数据的精确及服务的稳定性。 <br><br> 在您基于本数据采取任何行动之前，请参考 <b>官方渠道和指引</b>。 因统计原因浏览器Cookie将被使用。"};function C(t){for(var e=0;e<y.length;e++)if(t==y[e][0])return y[e][1];return t}function D(t){return"zh-CN"==t?w.cn:w.en}var k=a("4dd0"),S=a.n(k),x={name:"App",components:{chead:h,alert:_},data:function(){return{noticed:!1,firstAlert:{title:"THINGS YOU NEED TO KNOW",content:"<br>This data is a visualization for COVID-19 in the UK. <b>For reference purposes only.</b>. <br><br> You need to be aware: <br><br> 1. This data may not be completely <b>accurate or up to date</b>. <br> 2. All the markers on the map represent an area and <b>not buildings or streets</b>. <br> 3. The developer takes <b>no</b> responsibility for the accuracy of the data nor the service's stability. <br><br> Please double check with the <b>official channels<b> before acting on it. Cookies are used for statistical purposes only.",submit:"I consent"},needAlert:!1,noticeOpen:!0}},created:function(){S.a.get("first")&&"2"==S.a.get("first")||(this.needAlert=!0),this.firstAlert.content=D(window.navigator.language),f.$on("alert-clicked",(function(t){"I consent"==t&&S.a.set("first","2")}))},methods:{}},L=x,A=(a("034f"),Object(d["a"])(L,r,i,!1,null,null,null)),F=A.exports,P=a("1321"),N=a.n(P),O=a("8c4f"),E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[t.error?a("div",[t._v(" Fail to connect API, please report ISSUE to: "),a("li",[t._v("https://github.com/isjeffcom/coronvirusFigureUK")]),a("li",[t._v("https://spectrum.chat/covid-19-uk-update?tab=posts")])]):t._e(),t.loaded&&t.isPhone?a("overall",{attrs:{allData:t.allData,renderData:t.renderData,historyData:t.historyData,DPosi:t.DPosi,mode:"phone"}}):t._e(),t.boardOpen?a("board",{attrs:{content:t.boardData}}):t._e(),t.isPhone?t._e():a("div",{staticClass:"PC-View",staticStyle:{display:"flex"}},[t.loaded?a("overall",{staticStyle:{width:"40%"},attrs:{allData:t.allData,renderData:t.renderData,historyData:t.historyData,DPosi:t.DPosi,mode:"pc"}}):t._e(),t.areaLoaded?a("carea",{staticStyle:{width:"60%"},attrs:{renderArea:t.renderArea,mapData:t.mapData,geoData:t.geoAll,unknown:t.unknown,mode:"pc-map-only"}}):t._e()],1),t.chartLoaded?a("cdata",{attrs:{allData:t.allData[0],allCharts:t.allCharts,confirmCharts:t.confirmCharts,deathCharts:t.deathCharts,testedCharts:t.testedCharts,hospitalCharts:t.hospitalCharts,mode:t.isPhone?"phone":"pc"}}):t._e(),t.worldLoaded?a("world",{attrs:{euData:t.euCharts,preData:t.preCharts,mode:t.isPhone?"phone":"pc"}}):t._e(),t.areaLoaded?a("carea",{attrs:{renderArea:t.renderArea,mapData:t.mapData,geoData:t.geoAll,unknown:t.unknown,mode:t.isPhone?"phone":"pc-region"}}):t._e(),a("more"),t.keyDataLoaded?a("keydata",{attrs:{allData:t.allKeyData}}):t._e(),t.tlLoaded?a("timeheat",{attrs:{mode:t.isPhone?"phone":"pc"}}):t._e(),a("groupup"),a("sources"),a("div",{staticClass:"author"},[a("div",{staticClass:"author-inner"},[a("h3",[t._v(t._s(t.getLang("Author"))+": ")]),a("br"),a("a",{attrs:{href:"https://www.isjeff.com",target:"_blank"}},[t._v("Design and Devlopment: @Jeff Wu")]),a("br"),a("br"),a("a",{attrs:{href:"https://github.com/isjeffcom/coronvirusFigureUK",target:"_blank"}},[t._v("Open Data API")])])]),a("div",{staticClass:"author coworker"},[a("h3",[t._v(t._s(t.getLang("Contributor"))+": ")]),a("br"),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4)]),t.areaLoaded?a("div",{attrs:{id:"donation"}},[a("div",{attrs:{id:"d-inner"}},[a("div",{attrs:{id:"d-cont"}},[a("div",{attrs:{id:"d-title"}},[t._v(t._s(t.getLang("Support Us")))]),a("div",{attrs:{id:"d-sub"}},[t._v(t._s(t.getLang("We have collected more than enough donations for the basic need. Welcome to buy us a coffee.")))])]),a("div",{attrs:{id:"d-btn"}},[a("button",{on:{click:function(e){return t.openDonate(!0)}}},[t._v(t._s(t.getLang("SUPPORT")))])])])]):t._e(),t.donate?a("donate"):t._e()],1)},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/lamharrison",target:"_blank"}},[t._v("@Big Tree")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/lujiammy",target:"_blank"}},[t._v("@Jimmy Lu")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/VincentNevermore",target:"_blank"}},[t._v("@Vincent Zhang")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/commmathree",target:"_blank"}},[t._v("@commathree")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"#",target:"_blank"}},[t._v("@Yulia Serbenenko")])])}],T=(a("cb29"),a("4160"),a("d81d"),a("fb6a"),a("a9e3"),a("c35a"),a("b680"),a("159b"),a("5530")),$=(a("96cf"),a("1da1")),z=(a("b0c0"),a("bc3a")),R=a("4328"),M="https://api.covid19uk.live",U="https://api.postcodes.io/postcodes/";function j(t,e,a,n){t=a?t:M+t,z.get(G(t,e)).then((function(t){n({status:!0,data:t.data})})).catch((function(t){n({status:!1,error:t})}))}function V(t,e,a,n){t=a?t:M+t;var r=R.stringify(e);z.post(t,r).then((function(t){return t?void n({status:!0,data:t.data},!1):void n({status:!1,data:t.data})})).catch((function(t){n({status:!1,data:null,err:t})}))}function B(t,e,a,n){t=a?t:M+t;var r=JSON.stringify(e);z.post(t,r,{headers:{"Content-Type":"application/json"}}).then((function(t){return t?void n({status:!0,data:t.data},!1):void n({status:!1,data:t.data})})).catch((function(t){n({status:!1,data:null,err:t})}))}function K(t,e){j(U+t,[],!0,(function(t){t.status?e({status:!0,data:t.data}):e({status:!1,error:"not postcode"})}))}function G(t,e){if(e.length>0){t+="?";for(var a=0;a<e.length;a++)t=a==e.length-1?t+e[a].name+"="+e[a].val:t+e[a].name+"="+e[a].val+"&"}return t}a("4d63"),a("ac1f"),a("25f0"),a("5319");function H(t){return t=String(t),t.length<2?"0"+t:t}function W(t,e){var a,n=new Date(t);return a="date"==e?n.getFullYear()+"-"+H(n.getMonth()+1)+"-"+H(n.getDate()):"datesimple"==e?H(n.getMonth()+1)+"-"+H(n.getDate()):"dateslim"==e?n.getMonth()+1+"."+n.getDate():"time"==e?H(n.getHours())+":"+H(n.getMinutes())+":"+H(n.getSeconds()):n.getFullYear()+"-"+H(n.getMonth()+1)+"-"+H(n.getDate())+" "+H(n.getHours())+":"+H(n.getMinutes())+":"+H(n.getSeconds()),a}function q(t,e,a){for(var n=-1,r=0;r<e.length;r++)t==e[r][a]&&(n=r);return n}function J(t){return t.replace(/\\(.)/gm,"$1")}function Y(t){return JSON.parse(JSON.stringify(t))}function Z(t,e,a,n){var r=t*Math.PI/180,i=a*Math.PI/180,s=r-i,o=e*Math.PI/180-n*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(r)*Math.cos(i)*Math.pow(Math.sin(o/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,c}function Q(t){for(var e=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]"),a="",n=0;n<t.length;n++)a+=t.substr(n,1).replace(e,"");return a}function X(t){return t.replace(/(^\s*)|(\s*$)/g,"")}function tt(t){return function(e,a){var n=parseFloat(e[t]),r=parseFloat(a[t]);return r-n}}function et(){return window.innerWidth<800}var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"overall"}},[a("div",{attrs:{id:"overall"}},[a("div",{attrs:{id:"overall-inner"}},[a("div",{staticClass:"overall-show"},t._l(t.renderData,(function(e,n){return a("div",{key:n,staticClass:"overall-single"},[a("div",["pc"==t.mode?a("div",{staticClass:"overall-single-title"},[a("span",[t._v(t._s(t.getLang(n)))]),a("hr",{staticStyle:{width:"50%",opacity:"0.1","line-width":"1px"}})]):t._e(),a("div",{staticClass:"overall-single-value",style:"---"==e?"opacity: 0.2;font-weight:bold;":"opacity: 1;font-weight:bold;color:"+t.getColor(n)},[a("span",[t._v(t._s(e.toLocaleString()))])]),"phone"==t.mode?a("div",{staticClass:"overall-single-title"},[a("span",[t._v(t._s(t.getLang(n)))])]):t._e(),a("div",{staticClass:"overall-single-compare"},[a("span",{style:"color:"+t.getColor(n)+";font-weight: bold; font-size: 14px;opacity: 0.8;"},[t._v(t._s(t.compare(e,n)))])])])])})),0),t.hiddenShow?a("div",{staticStyle:{position:"absolute",opacity:"0.05",width:"100%","margin-top":"-40px","max-width":"700px"}},[a("hr")]):t._e(),t.hiddenShow?a("div",{staticClass:"overall-show overall-hidden",staticStyle:{"margin-top":"-10px","padding-top":"0px"}},[t._l(t.hiddenData,(function(e,n){return a("div",{key:n,staticClass:"overall-single"},[a("div",[a("div",{staticClass:"overall-single-value",style:"---"==e?"opacity: 0.2;font-weight:bold;":"opacity: 1;font-weight:bold;color:"+t.getColor(n)},[a("span",[t._v(t._s(e.toLocaleString()))])]),a("div",{staticClass:"overall-single-title"},[a("span",[t._v(t._s(t.getLang(n)))])]),a("div",{staticClass:"overall-single-compare"},[a("span",{style:"color:"+t.getColor(n)+";font-weight: bold; font-size: 14px;opacity: 0.8;"},[t._v(t._s(t.compare(e,n)))])])])])})),a("div",{staticStyle:{width:"100%",opacity:"0.3","font-size":"14px","text-align":"center"}},[t._v(t._s(t.getLang("Countries data might have delay from the cases data")))])],2):t._e(),"phone"==t.mode?a("div",{staticClass:"overall-expand",on:{click:function(e){t.hiddenShow=!t.hiddenShow}}},[a("div",[a("img",{style:"transform: rotate("+(t.hiddenShow?180:0)+"deg);",attrs:{src:"./img/arrow.svg"}})])]):t._e(),a("div",{style:"margin-top:"+(t.hiddenShow?30:10)+"px;",attrs:{id:"update"}},[a("div",[t._v(t._s(t.getLang("Update"))+": "+t._s(t.update))])])])])])},nt=[],rt=[{txt:"confirmed",color:"#FF535D"},{txt:"death",color:"#FFD076"},{txt:"mortality",color:"#E98565"},{txt:"hospital",color:"#FF7D95"},{txt:"people tested",color:"#65A3FF"},{txt:"tests done",color:"#AAD6FF"},{txt:"negative",color:"#51ECAB"},{txt:"serious",color:"#D21414"},{txt:"Posi. Rate",color:"#B592FF"},{txt:"england",color:""},{txt:"wales",color:"#52B071"},{txt:"scotland",color:"#4198E4"},{txt:"n. ireland",color:"#EE5774"}];function it(t){for(var e=0;e<rt.length;e++)if(t==rt[e].txt)return rt[e].color;return""}var st={name:"overall",props:{allData:{type:Array,default:function(){return[]}},historyData:{type:Array,default:function(){return[]}},DPosi:{type:Number,default:0},mode:{type:String,default:"phone"}},components:{},data:function(){return{update:"",more:!1,selected:0,renderData:{},hiddenData:{},hiddenShow:"phone"!=this.mode,countUpOptions:{useEasing:!0,useGrouping:!0,separator:",",decimal:"."}}},mounted:function(){this.renderFigure(),this.update=W(this.allData[0].ts)},methods:{getColor:function(t){return it(t)},renderFigure:function(){var t=this.allData[this.selected];this.renderData={confirmed:t.confirmed,death:t.death,"people tested":0!=t.negative?t.confirmed+t.negative:"---","tests done":0!=t.test_done?t.test_done:"---",hospital:t.hospital,"Posi. Rate":(t.confirmed/t.test_done*100).toFixed(2)+"%",mortality:(t.death/t.confirmed*100).toFixed(2)+"%"},this.hiddenData={england:t.england,wales:t.wales,scotland:t.scotland,"n. ireland":t.nireland}},formatNums:function(t){var e=t;for(var a in e)isNaN(e[a])||(e[a]=(new Intl.NumberFormat).format(e[a]));return e},showHidden:function(){this.hiddenShow=!this.hiddenShow},compare:function(t,e){if(this.historyData.length>0){var a=parseInt(t-this.historyData[this.historyData.length-1][e]);return"people tested"==e&&(a=parseInt(t-(this.historyData[this.historyData.length-1].confirmed+this.historyData[this.historyData.length-1].negative))),"n. ireland"==e&&(a=parseInt(t-this.historyData[this.historyData.length-1].nireland)),"tests done"==e&&(a=parseInt(t-this.historyData[this.historyData.length-1].test_done)),"serious"==e&&(a="---"),isNaN(a)?"":a>=0?"+"+a:"-"+a}return"+0"},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},ot=st,ct=(a("d4bf"),Object(d["a"])(ot,at,nt,!1,null,"6e4d1f9e",null)),lt=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"board",attrs:{id:"board"}},[a("div",{attrs:{id:"board-inner"}},[a("h2",[t._v("Annocement")]),a("p",[t._v(t._s(t.content))])]),a("div",{attrs:{id:"board-close"},on:{click:function(e){return t.close()}}},[a("img",{attrs:{src:"./img/close.svg",alt:"close",width:"30px"}})])])},ut=[],ht={name:"board",props:{content:{type:String,value:""}},methods:{close:function(){this.$refs["board"]&&(this.$refs["board"].style.animationName="gone")}}},pt=ht,mt=(a("84e0"),Object(d["a"])(pt,dt,ut,!1,null,null,null)),ft=mt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"forecast"}},[a("div",{staticClass:"title",staticStyle:{"margin-bottom":"0px"}},[a("div",{staticClass:"title-area inner",staticStyle:{width:"92%","padding-top":"20px","padding-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",[t._v(t._s(t.getLang("Analysis"))+" "),a("span",{staticStyle:{"font-size":"14px",opacity:"0.7"}},[t._v("[Beta]")])]),a("br"),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v(t._s(t.getLang("Data Source"))+": Johns Hopkins University")])])]),a("div",{staticClass:"tab-switcher"},t._l(t.allCharts,(function(e,n){return a("div",{key:n,staticClass:"ds-single",style:"width:calc(100%/"+t.allCharts.length+");",on:{click:function(e){return t.switchChartView(n)}}},[a("div",{staticClass:"ds-text"},[a("span",[t._v(t._s(t.getLang(e)))])]),n==t.currentChartView?a("div",{staticClass:"ds-ids"}):t._e()])})),0),a("div",{staticStyle:{width:"92%","margin-left":"auto","margin-right":"auto"}},[a("transition",{attrs:{name:"fade"}},[0==t.currentChartView?a("div",[a("charts",{attrs:{datas:t.euData,showRange:!1,mode:t.mode}}),a("div",{staticClass:"notice",staticStyle:{"font-size":"10px",width:"95%","margin-top":"20px","margin-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",{staticStyle:{opacity:"0.5"}},[t._v(" "+t._s(t.getLang("@Jeff wu @vincent zhang")))]),a("br"),a("br"),a("a",{attrs:{href:"https://github.com/isjeffcom/coronavirusDataGlobal",target:"_blank"}},[t._v("COVID19-Global-API")])])],1):t._e()]),a("transition",{attrs:{name:"fade"}},[1==t.currentChartView?a("div",[a("charts",{attrs:{datas:t.preData,showRange:!1,mode:t.mode}}),a("div",{staticClass:"notice",staticStyle:{"font-size":"10px",width:"95%","margin-top":"20px","margin-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",{staticStyle:{opacity:"0.5"}},[t._v(" "+t._s(t.getLang("Prediction model based on ANN machine learning algorithm trained with Italy, Germany and France's data."))+" "),a("br"),t._v(" "+t._s(t.getLang("Constantly Optimising by @Big-Tree, @Jimmy.")))]),a("br"),a("br"),a("a",{attrs:{href:"https://github.com/lamharrison/coronavirus-machine-learning",target:"_blank"}},[t._v("COVID19-ML-PREDICTION")])])],1):t._e()])],1)])},vt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-cont-s"},["phone"==t.mode?a("div",[a("swiper",{ref:"swiper",attrs:{options:t.swiperOptions}},t._l(t.datas,(function(e,n){return a("swiper-slide",{key:n},[t.showRange?a("div",{staticClass:"chart-range"},[a("div",{staticClass:"chart-inner",style:"width:"+54*t.rangeSelection.length+"px;"},t._l(t.rangeSelection,(function(r,i){return a("div",{key:i,staticClass:"chart-rs",style:"background:"+(i==t.rangeSelected[n]?"#CED3D6":"rgba(0,0,0,0)")+";color:"+(i==t.rangeSelected[n]?"#000000":"#CED3D6"),on:{click:function(a){return t.toRs(e.name,r,i,n)}}},[a("div",{staticClass:"chart-rs-txt"},[t._v(" "+t._s(isNaN(r)?r:r+"d")+" ")])])})),0)]):t._e(),a("apexchart",{ref:"chart-"+e.name,refInFor:!0,attrs:{width:"100%",height:"phone"==t.mode?"280px":"480px",type:e.type,options:e.options,series:e.data}}),a("div",{staticClass:"chart-full",on:{click:function(a){return t.toFc(e.data,e.options,e.name,e.type)}}},[t._v(t._s(t.getLang("Full Chart"))+" ")])],1)})),1),a("div",{staticClass:"chart-switcher-cont",staticStyle:{width:"100%",display:"flex"}},t._l(t.datas,(function(e,n){return a("div",{key:n,staticClass:"chart-switcher",style:"width: calc(100%/"+t.datas.length+");border-color:"+(t.chartIndexs==n?"#46DEFF":"#373D41")+";color:"+(t.chartIndexs==n?"#46DEFF":"#CED3D6")+";background:"+(t.chartIndexs==n?"#2D3133":"#373D41"),on:{click:function(a){t.chartSwitcher(n),t.toRs(e.name,t.rangeSelection[t.rangeSelected[n]],t.rangeSelected[n],n)}}},[t._v(" "+t._s(t.getLang(e.name))+" ")])})),0)],1):a("div",{staticClass:"charts-pc-cont"},t._l(t.datas,(function(e,n){return a("div",{key:n,staticClass:"charts-pc-s",style:"width:calc(100%/"+t.datas.length+");"},[a("div",{staticClass:"charts-pc-title"},[a("h2",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.getLang(e.name)))]),a("hr",{staticStyle:{"margin-top":"4px",width:"5%",opacity:"0.5"}})]),a("div",{staticClass:"charts-pc-main"},[t.showRange?a("div",{staticClass:"chart-range"},[a("div",{staticClass:"chart-inner",style:"width:"+54*t.rangeSelection.length+"px;"},t._l(t.rangeSelection,(function(r,i){return a("div",{key:i,staticClass:"chart-rs",style:"background:"+(i==t.rangeSelected[n]?"#CED3D6":"rgba(0,0,0,0)")+";color:"+(i==t.rangeSelected[n]?"#000000":"#CED3D6"),on:{click:function(a){return t.toRs(e.name,r,i,n)}}},[a("div",{staticClass:"chart-rs-txt"},[t._v(" "+t._s(isNaN(r)?r:r+"d")+" ")])])})),0)]):t._e(),a("apexchart",{ref:"chart-"+e.name,refInFor:!0,attrs:{width:"100%",height:"phone"==t.mode?"280px":"380px",type:e.type,options:e.options,series:e.data}}),a("div",{staticClass:"chart-full chart-full-pc",on:{click:function(a){return t.toFc(e.data,e.options,e.name,e.type)}}},[t._v(t._s(t.getLang("Full Chart"))+" ")])],1)])})),0)])},_t=[],yt=(a("dfa4"),a("7212")),wt={name:"charts",components:{swiper:yt["swiper"],swiperSlide:yt["swiperSlide"]},props:{datas:{},showRange:{type:Boolean,default:!0},mode:{type:String,default:"phone"}},data:function(){return{chartIndexs:0,rangeSelection:[7,14,30,"ALL"],rangeSelected:[],swiperOptions:{allowTouchMove:!1}}},created:function(){if(this.datas.length>0)for(var t=0;t<this.datas.length;t++)this.rangeSelected.push(this.rangeSelection.length-1)},methods:{chartSwitcher:function(t){this.chartIndexs=t,this.$refs["swiper"].swiper.slideTo(t)},toRs:function(t,e,a,r){if(n["a"].set(this.rangeSelected,r,a),this.$refs["chart-"+t]){var i=this.$refs["chart-"+t][0];if("ALL"==e){if(i["original_data"]){var s=Y(i["original_opts"]);return s.dataLabels.enabled=!1,i.updateSeries(Y(i["original_data"])),void i.updateOptions(s)}return}if(!i["original_data"]){var o=i.series,c=this.$refs["chart-"+t][0].options;i["original_data"]=Y(o),i["original_opts"]=Y(c)}var l=Y(i["original_data"]),d=Y(i["original_opts"]);d.dataLabels.enabled=!0;var u=this.cutData(l,d,e);i["cd_"+e]||(i["cd_"+e]=u.data),i["co_"+e]||(i["co_"+e]=u.options),i.updateSeries(i["cd_"+e],!1),i.updateOptions(i["co_"+e],!1,!1,!1)}},cutData:function(t,e,a){for(var n=t,r=e,i=(e["xaxis"]["categories"].length,0);i<t.length;i++){var s=this.cutArrToDays(t[i]["data"],a);n[i]["data"]=s}var o=this.cutArrToDays(e["xaxis"]["categories"],a);return r["xaxis"]["categories"]=o,{data:n,options:r}},cutArrToDays:function(t,e){var a;if(t.length>e){var n=t.length-1-e;a=t.slice(n,t.length)}return a},toFc:function(t,e,a,n){var r={data:t,options:e,name:a,type:n};this.$router.push({path:"/fullchart",query:{d:r}})},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},Ct=wt,Dt=(a("d094"),Object(d["a"])(Ct,bt,_t,!1,null,"2ad527c1",null)),kt=Dt.exports,St={name:"forecast",components:{charts:kt},props:{euData:{type:Array,default:function(){return[]}},preData:{type:Array,default:function(){return[]}},mode:{type:String,default:"phone"}},data:function(){return{currentChartView:0,allCharts:["Europe","UK Prediction"]}},mounted:function(){},methods:{switchChartView:function(t){this.currentChartView=t},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},xt=St,Lt=(a("2975"),Object(d["a"])(xt,gt,vt,!1,null,"a3af1baa",null)),At=Lt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:"phone"==t.mode?"padding-bottom:"+(t.timeline?"220px":"10px"):"",attrs:{id:"carea"}},["pc-map-only"!=t.mode?a("div",{staticClass:"title",staticStyle:{"margin-bottom":"0px"}},[a("div",{staticClass:"title-area inner",staticStyle:{width:"92%","padding-top":"20px","padding-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",[t._v(t._s(t.getLang("Regions")))]),a("br"),t.nearbyShow?a("div",{staticStyle:{"font-size":"16px"}},[a("b",{staticStyle:{color:"#F62E3A"}},[t._v(t._s(t.nearby.num))]),t._v(" "+t._s(t.getLang("Cases Near"))+" "),a("b",{staticStyle:{color:"#FFC634"}},[t._v(t._s(t.nearby.name))])]):t._e(),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v("* "+t._s(t.getLang("At least 1 day in arrears")))])]),a("div",{staticClass:"title-right",style:t.getLocAva?"opacity: 1":"opacity: 0.2",on:{click:function(e){return t.getLoc()}}},[a("img",{staticStyle:{cursor:"pointer"},attrs:{src:"https://i.ibb.co/09dv1dN/location.png",alt:"location",width:"30px"}})])]):t._e(),"pc-map-only"!=t.mode?a("div",{staticClass:"tab-switcher"},t._l(t.areaViews,(function(e,n){return a("div",{key:n,staticClass:"ds-single",style:"width:calc(100%/"+t.areaViews.length+");",on:{click:function(a){return t.switchAreaView(e)}}},[a("div",{staticClass:"ds-text"},[a("span",[t._v(t._s(t.getLang(e)))])]),e==t.currentAreaView?a("div",{staticClass:"ds-ids"}):t._e()])})),0):t._e(),"Map"==t.currentAreaView?a("div",{style:"opacity:"+(t.mapLoaded?1:.2),attrs:{id:"area-map"}},[a("osmmap",{style:"height: "+("phone"==t.mode?"450px":"95%;"),attrs:{mapData:t.toMapData,tlMode:t.tlMode}}),"phone"==t.mode?a("div",{staticClass:"notice",staticStyle:{"font-size":"10px",width:"95%","margin-top":"6px","margin-bottom":"20px","margin-left":"auto","margin-right":"auto",opacity:"0.7","text-align":"center"}},[t._v(" Map tiles by "),a("a",{attrs:{href:"http://stamen.com",target:"_blank"}},[t._v("Stamen Design")]),t._v(", under "),a("a",{attrs:{href:"http://creativecommons.org/licenses/by/3.0",target:"_blank"}},[t._v("CC BY 3.0")])]):t._e(),a("div",[t.timeline?t._e():a("button",{on:{click:t.openTL}},[t._v(t._s(t.getLang("Timeline")))]),t.timeline?a("div",{attrs:{id:"area-map-tl"}},[a("div",{attrs:{id:"area-map-tl-inner"}},[a("VueSlideBar",{attrs:{data:t.slider.data,range:t.slider.range,labelStyles:t.sw<700?{opacity:"0"}:{opacity:"1"},tooltipStyles:{backgroundColor:"#FFD643",borderColor:"#FFD643",borderRadius:"2px",color:"#000000",fontWeight:"bold"},processStyle:{backgroundColor:"#FFD643"},speed:.3},on:{callbackRange:t.sliderChange},model:{value:t.slider.value,callback:function(e){t.$set(t.slider,"value",e)},expression:"slider.value"}}),a("span",[t._v(t._s(t.getLang("All"))+": "+t._s(t.sliderConf))]),a("br"),""!=t.tlTracking?a("span",[t._v(t._s(t.tlTracking)+": "+t._s(t.getTLAreaData(t.tlTracking)))]):t._e(),a("button",{on:{click:t.closeTL}},[t._v(t._s(t.getLang("BACK")))])],1)]):t._e()])],1):t._e(),"List"==t.currentAreaView?a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"area-list-search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.listSearch,expression:"listSearch"}],attrs:{type:"text",placeholder:t.getLang("Search by place")},domProps:{value:t.listSearch},on:{input:function(e){e.target.composing||(t.listSearch=e.target.value)}}})]),a("table",[a("tr",[a("th",[t._v(t._s(t.getLang("Location")))]),a("th",[t._v(t._s(t.getLang("Cases")))])]),t._l(t.listFiltered,(function(e){return a("tr",{key:e.location},[a("td",[t._v(t._s(e.location))]),a("td",[t._v(t._s(e.number))])])}))],2)]):t._e(),"Postcode"==t.currentAreaView?a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"area-po-search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.poSearch,expression:"poSearch"}],staticStyle:{width:"70%"},attrs:{type:"text",placeholder:t.getLang("Search by Postcode")},domProps:{value:t.poSearch},on:{input:function(e){e.target.composing||(t.poSearch=e.target.value)}}}),a("br"),a("input",{staticStyle:{"margin-left":"5%",width:"25%"},attrs:{type:"submit"},on:{click:t.searchPO}})]),a("div",{staticClass:"area-po-res"},[a("div",{staticClass:"area-po-res-cont"},[a("b",{staticStyle:{color:"#F62E3A"}},[t._v(t._s(t.nearby.num))]),t._v(" "+t._s(t.getLang("Cases Near"))+" "),a("b",{staticStyle:{color:"#FFC634"}},[t._v(t._s(t.nearby.name))])])])]):t._e()])},Pt=[],Nt=(a("4de4"),a("caad"),a("a434"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?a("l-map",{ref:"lmap",attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[a("l-tile-layer",{attrs:{url:t.url,detectRetina:!0,attribution:t.attribution}}),a("l-geo-json",{attrs:{geojson:t.geojson,options:t.gJStyle}}),t._l(t.mapData,(function(e,n){return a("l-marker",{key:n,attrs:{icon:t.setIcon(e.confirmed),"lat-lng":e.la?t.setLatLng(e.la,e.lo):t.setLatLng(0,0)}},[a("l-popup",[a("div",{staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v(t._s(e.name))]),a("br"),a("span",{staticStyle:{"font-size":"16px","font-weight":"bold",color:"#FF535D"}},[t._v(t._s(e.confirmed))])]),t.tlMode?a("button",{staticClass:"track-btn",on:{click:function(a){return t.track(e.name)}}},[t._v("Track")]):t._e()])],1)}))],2):t._e()],1)}),Ot=[],Et=a("e11e"),It=a.n(Et),Tt=a("2699"),$t=a("a40a"),zt=a("4e2b"),Rt=a("f60f"),Mt=a("044a"),Ut={name:"ccmap",components:{LMap:Tt["a"],LTileLayer:$t["a"],LMarker:zt["a"],LPopup:Rt["a"],LGeoJson:Mt["a"]},props:{mapData:{type:Array,value:[]},tlMode:{type:Boolean,value:!1}},data:function(){return{api_geoToPo:"https://api.postcodes.io/postcodes/",api_geoJson:"./geojson/utla.geojson",geojson:{},mready:!1,iconResize:.04,minSize:16,maxSize:90,zoom:6,center:It.a.latLng(54.275967,-3.234891),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OSM</a>',currentZoom:5,currentCenter:It.a.latLng(54.275967,-3.234891),showParagraph:!1,icon:It.a.icon({iconUrl:"./img/marker_o.svg",iconSize:[0,0],iconAnchor:[0,0]}),mapOptions:{zoomSnap:.5,minZoom:5,maxZoom:13,easeLinearity:!0,zoomAnimation:!0,fadeAnimation:!0,markerZoomAnimation:!0},showMap:!1,gJStyle:{style:{weight:3,fillOpacity:0,color:"#1C4060",fillColor:"#1B2B39"}}}},watch:{tlMode:function(){0==this.tlMode?(this.minSize=16,this.maxSize=100):(this.minSize=6,this.maxSize=200)},mapData:function(){this.$refs.lmap.mapObject.closePopup()}},created:function(){var t=this;f.$on("getLoc",(function(){t.getUserGeo()})),this.getGeo()},methods:{getGeo:function(){var t=this;j(this.api_geoJson,[],!0,(function(e){t.geojson=e.data,t.showMap=!0}))},getUserGeo:function(){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.latitude,n=e.coords.longitude;if(!(a<48||a>62)&&!(n<-8||n>3)){var r=It.a.latLng(a,n);t.center=r,t.currentCenter=r,setTimeout((function(){t.zoom=8}),1400),j(t.api_geoToPo,[{name:"lon",val:n},{name:"lat",val:a}],!0,(function(t){var e=t.data.result[0],a="";"Scotland"==e.country?a=e["nhs_ha"]:"England"==e.country?a=e["nuts"]:"Northern Ireland"==e.country?a="Northern Ireland":"Wales"==e.country&&(a="Wales"),f.$emit("utla",a)}))}}),(function(t){1==t.code&&alert("You didn't give location access to your bowser. Please try to clear your bowser cache and try again.")})):console.log("no auth")},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},showLongText:function(){this.showParagraph=!this.showParagraph},setLatLng:function(t,e){return It.a.latLng(t,e)},setIcon:function(t){var e=t*this.iconResize>this.minSize?t*this.iconResize:this.minSize;return e>this.maxSize&&(e=this.maxSize),It.a.icon({iconUrl:"./img/marker_r.svg",iconSize:[e,e],iconAnchor:[e/2,e/2]})},track:function(t){f.$emit("area-track",t)}}},jt=Ut,Vt=(a("4b5d"),Object(d["a"])(jt,Nt,Ot,!1,null,"93af71ea",null)),Bt=Vt.exports,Kt=a("b68d"),Gt=a.n(Kt),Ht={name:"carea",components:{osmmap:Bt,VueSlideBar:Gt.a},props:{renderArea:{type:Array,default:function(){return[]}},mapData:{type:Array,default:function(){return[]}},geoData:{type:Array,default:function(){return[]}},unknown:{type:Number,default:0},mode:{type:String,default:"phone"}},data:function(){return{api_pos:"https://api.postcodes.io/postcodes/",api_his:"/history",nearby:{num:0,name:""},nearbyShow:!1,getLocAva:!0,timeline:!1,mapLoaded:!0,tlMode:!1,tlTracking:"",listSearch:"",poSearch:"",areaViews:"pc-region"==this.mode?["Postcode","List"]:["Map","Postcode","List"],currentAreaView:"pc-region"==this.mode?"Postcode":"Map",areaList:[],timelineData:[],rangeValue:{},sw:0,slider:{value:"4.1",data:[],range:[]},sliderConf:0}},created:function(){var t=this;this.toMapData=this.mapData,this.sw=screen.width,f.$on("utla",(function(e){t.displayMyArea(e)})),f.$on("area-track",(function(e){t.tlTracking=e}))},computed:{listFiltered:function(){var t=this;return this.renderArea.filter((function(e){return e.location.toLowerCase().includes(t.listSearch.toLowerCase())}))}},methods:{searchPO:function(){var t=this;j(this.api_pos+this.poSearch,[],!0,(function(e){if(e.status){var a=e.data.result,n="";"Scotland"==a.country?n=a["nhs_ha"]:"England"==a.country?n=a["nuts"]:"Northern Ireland"==a.country?n="Northern Ireland":"Wales"==a.country&&(n="Wales"),t.displayMyArea(n)}else alert("Is this a UK Postcode?")}))},displayMyArea:function(t){if(t){var e=this.getCasesByArea(t);this.nearby.num=e[0].number,this.nearby.name=e[0].location,this.nearbyShow=!0}},openTL:function(){var t=this;this.mapLoaded=!1,j(this.api_his,[],!1,(function(e){new Date;if(e.status){var a=e.data.data;"phone"==t.mode&&(a=a.splice(30,a.length-1));for(var n=0;n<a.length;n++)a[n].ds=W(a[n].date,"dateslim"),t.timelineData.push(t.areaToTl(JSON.parse(J(a[n].area)),a[n].ds)),t.slider.data.push(a[n].ds),t.slider.range.push({label:a[n].ds,idx:n,confirmed:a[n].confirmed});t.slider.value=t.timelineData[t.timelineData.length-1].date,t.toMapData=t.timelineData[t.timelineData.length-1].series,t.sliderConf=t.slider.range[t.timelineData.length-1].confirmed,t.$nextTick((function(){t.timeline=!0,t.mapLoaded=!0})),t.tlMode=!0}else alert("Unknow Error"),t.mapLoaded=!0,t.closeTL();setTimeout((function(){t.mapLoaded=!0}),5e3)}))},closeTL:function(){this.timelineData=[],this.slider.data=[],this.slider.range=[],this.toMapData=this.mapData,this.timeline=!1,this.tlMode=!1,this.tlTracking=""},areaToTl:function(t,e){for(var a={date:e,series:[]},n=0;n<t.length;n++){var r=t[n];r.location=X(r.location);var i={},s=q(r.location,this.geoData,"name");-1!=s&&(i.name=r.location,i.la=this.geoData[s].la,i.lo=this.geoData[s].lo,i.confirmed=r.number),a.series.push(i)}return a},sliderChange:function(t){this.toMapData=this.timelineData[t.idx].series,this.sliderConf=this.slider.range[t.idx].confirmed},switchAreaView:function(t){this.currentAreaView=t},getCasesByArea:function(t){return this.renderArea.filter((function(e){return e.location.toLowerCase().includes(t.toLowerCase())}))},getLoc:function(){var t=this;this.getLocAva&&(f.$emit("getLoc",!0),this.getLocAva=!1,setTimeout((function(){t.getLocAva=!0}),8e3))},getTLAreaData:function(t){for(var e="No Data",a=this.toMapData,n=0;n<a.length;n++)t==a[n].name&&(e=a[n].confirmed);return e},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},Wt=Ht,qt=(a("5349"),Object(d["a"])(Wt,Ft,Pt,!1,null,"56869494",null)),Jt=qt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"cdata"}},[a("div",{attrs:{id:"chart"}},[a("div",{staticClass:"title",staticStyle:{"margin-bottom":"0px","margin-top":"2px"}},[a("div",{staticClass:"title-area inner",staticStyle:{width:"92%","padding-top":"20px","padding-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",[t._v(t._s(t.getLang("Data")))]),a("br"),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v("* "+t._s(t.getLang("Data might be incompleted")))])])]),a("div",{staticClass:"tab-switcher"},t._l(t.allCharts,(function(e,n){return a("div",{key:n,staticClass:"ds-single",style:"width:calc(100%/"+t.allCharts.length+");",on:{click:function(e){return t.switchChartView(n)}}},[a("div",{staticClass:"ds-text"},[a("span",[t._v(t._s(t.getLang(e)))])]),n==t.currentChartView?a("div",{staticClass:"ds-ids"}):t._e()])})),0),a("div",{attrs:{id:"chart-inner"}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.currentChartView,expression:"currentChartView == 0"}]},[a("charts",{attrs:{datas:t.confirmCharts,mode:t.mode}})],1)]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.currentChartView,expression:"currentChartView == 1"}]},[a("charts",{attrs:{datas:t.deathCharts,mode:t.mode}})],1)]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.currentChartView,expression:"currentChartView == 2"}]},[a("charts",{attrs:{datas:t.testedCharts,mode:t.mode}})],1)]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.currentChartView,expression:"currentChartView == 3"}]},[a("charts",{attrs:{datas:t.hospitalCharts,mode:t.mode}}),a("div",{staticStyle:{"margin-top":"10px","font-size":"14px"}},[t._v("Current: "+t._s(t.allData.hospital)+", England: "+t._s(t.hospitalArea.england)+", Scotland: "+t._s(t.hospitalArea.scotland)+", Wales: "+t._s(t.hospitalArea.wales)+", Northern Ireland: "+t._s(t.hospitalArea.nIreland))])],1)])],1)])])},Zt=[],Qt={name:"cdata",components:{charts:kt},props:{allData:{type:Object,value:{}},allCharts:{type:Array,default:function(){return[]}},confirmCharts:{type:Array,default:function(){return[]}},deathCharts:{type:Array,default:function(){return[]}},testedCharts:{type:Array,default:function(){return[]}},hospitalCharts:{type:Array,default:function(){return[]}},mode:{type:String,default:"phone"}},created:function(){this.hospitalArea=JSON.parse(J(this.allData.hospitalArea))},data:function(){return{currentChartView:0,swiperOptions:{allowTouchMove:!1},hospitalArea:{}}},methods:{switchChartView:function(t){this.currentChartView=t},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},Xt=Qt,te=(a("59b2"),Object(d["a"])(Xt,Yt,Zt,!1,null,"7a4acea6",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"more"}},[a("div",{staticClass:"more-s",staticStyle:{"margin-bottom":"20px"}},[a("a",{attrs:{href:"https://www.nhs.uk/conditions/coronavirus-covid-19/",target:"_blank"}},[a("img",{attrs:{src:"./img/helpandinfo.png",alt:"to NHS official website for more help and information"}})])]),a("div",{staticClass:"more-s"},[a("a",{attrs:{href:"https://playground.isjeff.com/relaxgame",target:"_blank"}},[a("img",{attrs:{src:"./img/playgame.png",alt:"play stress release game"}})])])])},ne=[],re={name:"more"},ie=re,se=(a("dbb2"),Object(d["a"])(ie,ae,ne,!1,null,"8840f4be",null)),oe=se.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"keydata"}},[a("div",{staticClass:"title",staticStyle:{background:"#1D1F21",width:"100%","margin-bottom":"0px"}},[a("div",{staticClass:"title-area inner",staticStyle:{width:"92%","padding-top":"20px","padding-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",[t._v(t._s(t.getLang("Key Data")))]),a("br"),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v("* "+t._s(t.getLang("Global data has 1 Day Delay")))])])]),a("div",{attrs:{id:"keydata-inner"}},[a("div",{attrs:{id:"keydata-data"}},t._l(t.allData,(function(e,n){return a("div",{key:n,staticClass:"keydata-data-s"},[a("div",{staticClass:"ptg-txt-tit"},[t._v(t._s(t.getLang(e.name)))]),a("div",{staticClass:"ptg-txt-num",style:"color:"+e.color},[t._v(t._s(e.num))])])})),0)])])},le=[],de={name:"keydata",props:{allData:{type:Array,default:function(){return[]}}},mounted:function(){},methods:{getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},ue=de,he=(a("a9c4"),Object(d["a"])(ue,ce,le,!1,null,"7646a6ac",null)),pe=he.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sources"}},[a("span",[t._v(t._s(t.getLang("References")))]),t._l(t.list,(function(e,n){return a("li",{key:n},[a("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.name))])])})),a("br"),a("h4",[t._v("Licence")]),t._m(0)],2)},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("a",{attrs:{href:"https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",target:"_blank"}},[t._v("Open Government Licence v3.0 (UK)")])])}],ge={name:"sources",data:function(){return{list:[{name:"[API] Coronvirus Figure UK - isjeffcom",url:"https://github.com/isjeffcom/coronvirusFigureUK"},{name:"[Gov]COVID-19: latest information and advice",url:"https://www.gov.uk/guidance/coronavirus-covid-19-information-for-the-public"},{name:"[Gov]COVID-19: track coronavirus cases",url:"https://www.gov.uk/government/publications/covid-19-track-coronavirus-cases"},{name:"[Gov]Coronavirus in Scotland",url:"https://www.gov.scot/publications/coronavirus-covid-19-tests-and-cases-in-scotland/"},{name:"[Gov]COVID-19 (coronavirus) Northern Ireland",url:"https://www.publichealth.hscni.net/news/covid-19-coronavirus"},{name:"[Gov]Written Statement: COVID-19 Wales",url:"https://gov.wales/written-statement-coronavirus-covid-19-1"},{name:"[Gov]Slides and datasets to accompany coronavirus press conference",url:"https://www.gov.uk/government/publications/slides-and-datasets-to-accompany-coronavirus-press-conference-7-may-2020"},{name:"[Gov]DHSCgovuk Official Twitter",url:"https://twitter.com/DHSCgovuk"},{name:"[Media]COVID-19 CORONAVIRUS OUTBREAK (Worldometers)",url:"https://www.worldometers.info/coronavirus/"}]}},methods:{getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},ve=ge,be=(a("3ff6"),Object(d["a"])(ve,me,fe,!1,null,"26017518",null)),_e=be.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"groupup"}},[a("span",[t._v(t._s(t.getLang("Group Up")))]),a("div",{attrs:{id:"groupup-inner"}},[a("div",{staticClass:"groupup-s"},[a("a",{attrs:{href:"https://www.facebook.com/groups/2944338405655888",target:"_blank"}},[a("img",{attrs:{src:"./img/facebook.png",alt:"join by Facebook"}})])]),a("div",{staticClass:"groupup-s"},[a("a",{attrs:{href:"https://twitter.com/JIANFENGWU9",target:"_blank"}},[a("img",{attrs:{src:"./img/twitter.png",alt:"Open Twitter"}})])]),a("div",{staticClass:"groupup-s"},[a("a",{attrs:{href:"https://jq.qq.com/?_wv=1027&k=5Ajnx1w",target:"_blank"}},[a("img",{attrs:{src:"./img/qq.png",alt:"join by Tencent QQ"}})])])])])},we=[],Ce={name:"groupup",methods:{getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},De=Ce,ke=(a("e7e4"),Object(d["a"])(De,ye,we,!1,null,"1b30bbfd",null)),Se=ke.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"timeheat"}},[a("div",{staticClass:"title",staticStyle:{background:"#1D1F21",width:"100%","margin-bottom":"0px"}},[a("div",{staticClass:"title-area inner",staticStyle:{width:"92%","padding-top":"20px","padding-bottom":"20px","margin-left":"auto","margin-right":"auto"}},[a("span",[t._v(t._s(t.getLang("Data Release")))]),a("br"),a("div",{staticStyle:{"font-size":"12px",opacity:"0.5"}},[t._v(t._s(t.getLang("when gov.uk website was edited (some might not updating figures)")))])])]),t.loaded?a("div",{staticStyle:{"margin-top":"10px"},attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"heatmap",height:"phone"==t.mode?250:360,options:t.opts,series:t.cd}})],1):t._e()])},Le=[],Ae={name:"timeheat",props:{mode:{type:String,default:"phone"}},data:function(){return{api:"/timeline",loaded:!1,timeline:[],cd:[{name:"8",data:[]},{name:"9",data:[]},{name:"10",data:[]},{name:"11",data:[]},{name:"12",data:[]},{name:"13",data:[]},{name:"14",data:[]},{name:"15",data:[]},{name:"16",data:[]},{name:"17",data:[]},{name:"18",data:[]},{name:"19",data:[]},{name:"20",data:[]},{name:"21",data:[]},{name:"22",data:[]},{name:"23",data:[]}],opts:{chart:{foreColor:"#8D9EAA",type:"heatmap",animations:{enabled:!1}},dataLabels:{enabled:!1},tooltip:{enabled:!1},legend:{show:!1},xaxis:{type:"category",categories:[],labels:{style:{fontSize:"8px"}}},yaxis:{labels:{formatter:function(t){if(t)return t+" h"},style:{fontSize:"8px"}}},fill:{color:"#1C2024",pattern:{strokeWidth:0}},stroke:{show:!0,colors:["#373D41"],width:1},grid:{borderColor:"rgba(55,61,65,0.4)"},plotOptions:{heatmap:{radius:0,enableShades:!1,useFillColorAsStroke:!0,colorScale:{ranges:[{from:1,to:2,name:"",color:"#1C2024"},{from:2,to:3,name:"",color:"#36FFAB"}]}}}}}},created:function(){this.getData()},methods:{getData:function(){var t=this;j(this.api,[],!1,(function(e){if(e.status){var a=e.data.timeline;a=a.reverse();var n,r="phone"==t.mode?30:120;a.splice(0,a.length-r);for(var i=0;i<a.length;i++){a[i];var s=new Date(a[i]),o=s.getMonth()+1+"-"+s.getDate();o==n?t.toRightSlot(s,!0):(t.opts.xaxis.categories.push(o),t.toRightSlot(s,!1)),n=o}t.loaded=!0}}))},toRightSlot:function(t,e){var a=this,n=t.getHours();this.cd.forEach((function(t,r){if(e){var i=a.cd[r].data.length;t.name==n&&(a.cd[r].data[i-1]=2)}else t.name==n?a.cd[r].data.push(2):a.cd[r].data.push(1)}))},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},Fe=Ae,Pe=Object(d["a"])(Fe,xe,Le,!1,null,null,null),Ne=Pe.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"donate"}},[a("div",{attrs:{id:"donate-inner"}},[a("div",{attrs:{id:"donate-title"}},[t._v(" "+t._s(t.getLang("THANK YOU"))+" ")]),a("div",{attrs:{id:"donate-subtitle"}},[t._v(" "+t._s(t.getLang("Donation will be use for server maintenance, pay for data services(eg. Map), and team members health protection."))+" ")]),a("div",{attrs:{id:"donate-cont"}},[a("div",{attrs:{id:"paypal"}},[a("form",{attrs:{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_blank"}},[a("input",{attrs:{type:"hidden",name:"cmd",value:"_s-xclick"}}),a("input",{attrs:{type:"hidden",name:"hosted_button_id",value:"EY7QJMGB24VBQ"}}),a("input",{staticStyle:{height:"100%",background:"none",border:"none"},attrs:{type:"image",src:"./img/csd.png",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!",alt:"Donate with PayPal button"}}),a("img",{attrs:{alt:"",border:"0",src:"https://www.paypal.com/en_GB/i/scr/pixel.gif",width:"1",height:"1"}})])]),a("div",{attrs:{id:"wechat"}},[a("div",{attrs:{id:"wechat-cont"},on:{click:t.openWCQR}},[a("img",{attrs:{src:"./img/wec.png",alt:"donate by wechat pay"}})])])]),a("div",{attrs:{id:"donate-close"},on:{click:t.close}},[a("div",[t._v(t._s(t.getLang("CLOSE")))])])])])},Ee=[],Ie={name:"donate",data:function(){return{wcqr:!1}},methods:{openWCQR:function(){window.open("https://i.ibb.co/4RwtP7p/cc.jpg")},close:function(){f.$emit("donate-close",!0)},getLang:function(t){return"zh-CN"!=window.navigator.language?t:C(t)}}},Te=Ie,$e=(a("5851"),Object(d["a"])(Te,Oe,Ee,!1,null,"8459d986",null)),ze=$e.exports;a("d3b7");function Re(t,e){return new Promise((function(a){var n={cates:[],co:[],death:[],coDaily:[],coInc:[]};t.forEach((function(e,a){var r;if(e.date=W(e.date,"datesimple"),n.cates.push(e.date),n.co.push(e.confirmed),n.death.push(e.death),0==a)n.coDaily.push(e.confirmed-0),r=parseFloat((e.confirmed-0)/10).toFixed(4);else{n.coDaily.push(e.confirmed-t[a-1].confirmed);var i=t[a-1].confirmed;r=0==i?e.confirmed:parseFloat((e.confirmed-i)/i).toFixed(4)}n.coInc.push((100*r).toFixed(4))})),n.cates.push(W(Date.parse(new Date),"datesimple")),n.co.push(e.confirmed),n.death.push(e.death),n.coDaily.push(e.confirmed-t[t.length-1].confirmed),n.coDaily.unshift(0);var r=t[t.length-1].confirmed,i=Number.parseFloat((e.confirmed-r)/r).toFixed(4);n.coInc.push((100*i).toFixed(4)),a(n)}))}function Me(t,e){return new Promise((function(a){var n={trend:[],inc:[],rate:[]};t.forEach((function(e,a){var r,i;if(n.trend.push(e.death),0==a)r=e.death-0,i=0;else{var s=t[a-1].death;r=e.death-s,i=100*parseFloat(e.death/e.confirmed).toFixed(4)}n.inc.push(r),n.rate.push(i.toFixed(4))})),n.inc.push(e.death-t[t.length-1].death);var r=100*parseFloat(e.death/e.confirmed).toFixed(4);n.rate.push(r.toFixed(4)),n.trend.push(e.death),a(n)}))}function Ue(t,e){return new Promise((function(a){var n={all:[],growth:[],pRate:[]};t.forEach((function(e,a){var r=e.confirmed+e.negative;if(n.all.push(r),0==a)n.growth.push(0);else{n.growth.push(r-(t[a-1].confirmed+t[a-1].negative));var i=e.confirmed-t[a-1].confirmed,s=e.confirmed+e.negative-(t[a-1].confirmed+t[a-1].negative),o=100*parseFloat((i/s).toFixed(4));n.pRate.push(o.toFixed(4))}}));var r=e.confirmed+e.negative,i=t[t.length-1].confirmed+t[t.length-1].negative;n.all.push(r),n.growth.push(r-i);var s=e.confirmed-t[t.length-1].confirmed,o=e.confirmed+e.negative-(t[t.length-1].confirmed+t[t.length-1].negative),c=100*parseFloat((s/o).toFixed(4));isNaN(c)&&(c=0),n.pRate.push(c.toFixed(4)),a(n)}))}function je(t,e){return new Promise((function(a){var n={trend:[]};t.forEach((function(t,e){n.trend.push(t.hospital)})),n.trend.push(e.hospital),a(n)}))}var Ve={name:"home",components:{overall:lt,board:ft,cdata:ee,donate:ze,world:At,carea:Jt,more:oe,keydata:pe,groupup:Se,sources:_e,timeheat:Ne},data:function(){return{error:!1,lang:"",loaded:!1,boardOpen:!1,chartLoaded:!1,areaLoaded:!1,worldLoaded:!1,keyDataLoaded:!1,globalDataLoaded:!1,tlLoaded:!1,isPhone:!0,listSearch:"",api:"/",api_history:"/historyfigures",api_locations:"/locations",api_board:"/board",api_eu:"https://global.covid19uk.live/majoreu",api_global_status:"https://global.covid19uk.live/status",api_global_current:"https://global.covid19uk.live/current",api_prediction:"./uk.json",allData:[],boardData:"",renderData:{},renderArea:{},mapData:[],historyData:[],allKeyData:[],geoAll:[],DPosi:0,unknown:0,chartOptions:{chart:{foreColor:"#8D9EAA",toolbar:{show:!1},zoom:{enabled:!1},animations:{enabled:!1}},stroke:{curve:"straight",width:2},tooltip:{y:{}},fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1,style:{fontSize:"8px",borderWidth:0,padding:2,fontWeight:"normal"}},grid:{borderColor:"rgba(255,255,255,0.08)"},colors:["#F62E3A","#949BB5"],xaxis:{categories:[0,0,0,0,0,0,0,0],labels:{hideOverlappingLabels:!0,style:{fontSize:"8px"}}},yaxis:{abels:{style:{fontSize:"8px"}}}},currentChartView:0,confirmCharts:[],deathCharts:[],testedCharts:[],hospitalCharts:[],euCharts:[],preCharts:[],allCharts:["Case","Death","Test","Hospital"],donate:!1}},mounted:function(){this.getData(this.api),this.getBoard(this.api_board),this.getKeyData(this.api_global_status),this.lang=window.navigator.language},created:function(){var t=this;this.isPhone=et(),f.$on("donate-close",(function(){t.donate=!1}))},methods:{getData:function(t){var e=this;j(t,{},!1,(function(t){t.status?(e.allData=t.data.data,e.allData[0].area&&""!=e.allData[0].area&&(e.renderArea=JSON.parse(e.allData[0].area)),e.loaded=!0,setTimeout((function(){e.tlLoaded=!0}),3e3),e.getHistory(e.api_history)):e.error=!0}))},getHistory:function(t){var e=this;j(t,{},!1,function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(a){var n,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.status){t.next=15;break}return e.historyData=a.data.data,t.next=4,Re(e.historyData,e.allData[0]);case 4:return n=t.sent,t.next=7,Me(e.historyData,e.allData[0]);case 7:return r=t.sent,t.next=10,Ue(e.historyData,e.allData[0]);case 10:return i=t.sent,t.next=13,je(e.historyData,e.allData[0]);case 13:s=t.sent,e.$nextTick((function(){e.chartOptions.xaxis.categories=n.cates,e.confirmCharts.push(e.constChartData("C&D","area",!1,["#F62E3A","#949BB5"],e.constChartSeries([["Cumulative cases",n.co],["Death",n.death]]))),e.confirmCharts.push(e.constChartData("Daily Increase","bar",!1,["#F62E3A"],e.constChartSeries([["Cases",n.coDaily]]))),e.confirmCharts.push(e.constChartData("Growth Rate","area",!0,["#F62E3A"],e.constChartSeries([["Rate",n.coInc]]))),e.deathCharts.push(e.constChartData("Death Overall","area",!1,["#FFC634"],e.constChartSeries([["Overall",r.trend]]))),e.deathCharts.push(e.constChartData("Death Increase","bar",!1,["#FFC634"],e.constChartSeries([["Increase",r.inc]]))),e.deathCharts.push(e.constChartData("Mortality Rate","area",!0,["#FFC634"],e.constChartSeries([["Death Rate",r.rate]]))),e.testedCharts.push(e.constChartData("Tested Number","bar",!1,["#46DEFF","#31DA93"],e.constChartSeries([["All",i.all],["Increase",i.growth]]))),e.testedCharts.push(e.constChartData("Positive Rate","area",!0,["#46DEFF"],e.constChartSeries([["Positive Rate",i.pRate]]))),e.hospitalCharts.push(e.constChartData("Patient Hospitalized","area",!1,["#FF7D95"],e.constChartSeries([["Patients",s.trend]]))),e.dailyConfirmed=n.coDaily,0==i.pRate[i.pRate.length-1]?e.DPosi=Number.parseFloat(i.pRate[i.pRate.length-2]):e.DPosi=Number.parseFloat(i.pRate[i.pRate.length-1]),e.chartLoaded=!0}));case 15:e.getLocations(e.api_locations);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getLocations:function(t){var e=this,a=this;j(t,{},!1,(function(t){var n=t.data.data;e.geoAll=t.data.data;var r=[];e.renderArea.forEach((function(t,e){var a=q(t.location,n,"name");0!=t.number&&-1!=a&&(n[a].confirmed=parseInt(t.number),r.push(n[a]))})),e.mapData=r,e.unknown=e.calUnknown(e.renderArea,e.allData[0].confirmed),e.$nextTick((function(){a.areaLoaded=!0}))})),this.getEU()},getBoard:function(t){var e=this;j(t,[],!1,(function(t){t.data.open&&(e.boardOpen=!0,e.boardData=t.data.content)}))},getEU:function(){var t=this;j(this.api_eu,[],!0,(function(e){for(var a=e.data.data,n=[],r=[],i=0,s=["UK",[]],o=["UK",[]],c=0;c<t.historyData.length;c++)s[1].push(t.historyData[c].confirmed),t.historyData[c].death>0&&o[1].push(t.historyData[c].death);for(var l in n.push(s),r.push(o),a){var d=[l,[]],u=[l,[]];a[l].length>i&&(i=a[l].length);for(var h=0;h<a[l].length;h++)a[l][h].country_region!=a[l][h].province_state&&""!=a[l][h].province_state||(d[1].push(a[l][h].confirmed),a[l][h].death>0&&u[1].push(a[l][h].death));n.push(d),r.push(u)}t.euCharts.push(t.constChartData("Confirmed","line",!1,["#F62E3A","#00FFA3","#FF7A00","#0075FF","#FFF500"],t.constChartSeries(n),t.getLabels(i))),t.euCharts.push(t.constChartData("Death","line",!1,["#F62E3A","#00FFA3","#FF7A00","#0075FF","#FFF500"],t.constChartSeries(r),t.getLabels(i))),j(t.api_prediction,[],!0,(function(e){var a=e.data,n=[];for(var r in a)n.push(a[r][0].toFixed(0));var i=s[1];i.push(t.allData[0].confirmed),t.preCharts.push(t.constChartData("UK Prediction","line",!1,["#F62E3A","#4696CB"],t.constChartSeries([["Current",i],["Forecast",n]]),t.getLabels(n.length))),t.worldLoaded=!0})),t.getGlobeDRate(t.api_global_current)}))},getLabels:function(t){for(var e=[],a=0;a<t;a++)e.push("D"+(a+1));return e},getKeyData:function(t){var e=this;j(t,[],!0,(function(t){e.allKeyData=[{name:"Global Cases",num:t.data.data.confirmed,color:"rgb(255, 81, 81)"},{name:"Global Death",num:t.data.data.death,color:"rgb(255, 206, 31)"},{name:"[UK]Cases to go until herd immunity(60%)",num:Math.floor(39864e3-e.allData[0].confirmed),color:"rgb(86, 255, 184)"}],e.keyDataLoaded=!0}))},getGlobeDRate:function(t){var e=this,a=[];j(t,[],!0,(function(t){var n=t.data.data,r=0;n.sort((function(t,e){return t.country_region.localeCompare(e.country_region)})),a.push({id:r,country_region:n[0].country_region,confirmed:n[0].confirmed,death:n[0].death});for(var i=1;i<n.length;i++)n[i].country_region==n[i-1].country_region?(a[r].confirmed+=n[i].confirmed,a[r].death+=n[i].death):"United Kingdom"!=n[i].country_region&&(r+=1,a.push({id:r,country_region:n[i].country_region,confirmed:n[i].confirmed,death:n[i].death}));a.push({id:a[a.length-1].id+1,country_region:"United Kingdom",confirmed:e.allData[0].confirmed,death:e.allData[0].death}),a=a.map((function(t){return Object(T["a"])({},t,{death_rate:Number(t.death/t.confirmed*100).toFixed(2)})})),a.sort(tt("death_rate")),a=a.map((function(t){return Object(T["a"])({},t,{death_rate:t.death_rate})}));for(var s=[],o=[],c=0;c<a.length;c++)a[c].confirmed>5e3&&(s.push(parseFloat(a[c].death_rate)),o.push(a[c].country_region));s=s.slice(0,11),o=o.slice(0,11),e.euCharts.push(e.constChartData("Mortality Rate","bar",!0,["#FFC634"],e.constChartSeries([["Mortality Rate",s]]),o)),e.globalDataLoaded=!0}))},calUnknown:function(t,e){var a=0;return t&&t.forEach((function(t){isNaN(t.number)||(a+=parseInt(t.number))})),e-a},constChartData:function(t,e,a,n,r,i){var s=Y(this.chartOptions);return n&&(s.colors=n),i&&(s.xaxis.categories=i),"line"!=e&&"bar"!=e||(s.fill={}),"bar"==e&&(s.chart.stacked=!0),"UK Prediction"==t&&(s.stroke={width:3,dashArray:[0,2]}),a&&(s.dataLabels.formatter=function(t){return 0==t?"":t+"%"},s["tooltip"]["y"].formatter=function(t){return 0==t?"":t+"%"}),{name:t,type:e,options:s,data:r}},constChartSeries:function(t){for(var e=[],a=0;a<t.length;a++)e.push({name:t[a][0],data:t[a][1]});return e},getLang:function(t){return"zh-CN"!=this.lang?t:C(t)},openDonate:function(t){this.donate=t}}},Be=Ve,Ke=(a("b0fe"),Object(d["a"])(Be,E,I,!1,null,"4df8854c",null)),Ge=Ke.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"store"}},[a("storelist"),a("alert",{attrs:{title:t.alt.tit,content:t.alt.content,submit:t.alt.submit}})],1)},We=[],qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:"opacity:"+(t.loading?"0.5":"1"),attrs:{id:"storelist"}},[a("div",{attrs:{id:"sl-sorter"}},[a("div",{attrs:{id:"sl-map"}},[a("storemap",{attrs:{mapData:t.storeRes,ct:t.mapCenter}})],1),a("div",{attrs:{id:"sl-select"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?a:a[0]},function(e){return t.changed()}]}},t._l(t.stores,(function(e,n){return a("option",{key:n},[t._v(t._s(e))])})),0)]),a("div",{attrs:{id:"sl-sinput"}},[a("div",{attrs:{id:"sl-sinput-box"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{type:"text",placeholder:"UK Postcode"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})]),a("div",{attrs:{id:"sl-sinput-check"}},[a("button",{on:{click:function(e){return t.checkNearbyWithPo()}}},[t._v("Search")])])])]),t._m(0),a("div",{ref:"slList",style:"height:"+(t.screenHeight>0?t.screenHeight-365:300)+"px;",attrs:{id:"sl-list"}},[t._l(t.storeRes,(function(e,n){return a("div",{key:n,ref:"sl-"+n,refInFor:!0,staticClass:"sl-s",style:"opacity:"+(t.mapSelected==n?"1":"0.6")+";height:"+(t.listInfo.length==t.storeRes.length?95:77)+"px;",on:{click:function(e){return t.selectFromList(n)}}},[a("div",{staticClass:"sl-s-info"},[a("div",{staticClass:"sl-s-name"},[t._v(" "+t._s(e.sname)+" ")]),a("div",{staticClass:"sl-s-add"},[t._v(" "+t._s(e.address)+" ")]),t.listInfo.length==t.storeRes.length?a("div",{staticClass:"sl-s-mark"},[0!=t.calOverall(t.listInfo[n])?a("progress",{attrs:{max:"100"},domProps:{value:t.calOverall(t.listInfo[n])}}):a("div",{staticStyle:{"font-size":"12px",color:"#36FFAB","margin-top":"4px"}},[t._v("No data, add status now.")])]):t._e(),a("div",{staticClass:"sl-s-more"},[a("div",{staticClass:"sl-s-more-txt",on:{click:function(a){return t.listClicked(e)}}},[t._v("Stock Checker")])])])])})),t.storeRes.length<1?a("div",[a("span",[t._v("Search Location By Postcode")])]):t._e()],2)])},Je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sl-list-title"}},[a("h3",[t._v("Nearby")])])}],Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?a("l-map",{attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[a("l-tile-layer",{attrs:{url:t.url,detectRetina:!0,attribution:t.attribution}}),t._l(t.mapData,(function(e,n){return a("l-marker",{key:n,attrs:{icon:t.currentSelected==n?t.setIcon(32):t.setIcon(20),"lat-lng":t.setLatLng(e.latitude,e.longitude)},on:{click:function(e){return t.markerClicked(n)}}})}))],2):t._e()],1)},Ze=[],Qe={name:"storemap",components:{LMap:Tt["a"],LTileLayer:$t["a"],LMarker:zt["a"]},props:{mapData:{type:Array,value:[]},ct:{type:Array,value:[]}},data:function(){return{api_geoToPo:"https://api.postcodes.io/postcodes/",currentSelected:0,iconResize:.15,minSize:16,zoom:5,center:It.a.latLng(54.275967,-3.234891),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OSM</a>',currentZoom:5,currentCenter:It.a.latLng(54.275967,-3.234891),showParagraph:!1,icon:It.a.icon({iconUrl:"./img/marker.svg",iconSize:[32,32],iconAnchor:[16,16]}),mapOptions:{zoomSnap:.5,easeLinearity:!0,zoomAnimation:!0,fadeAnimation:!0,markerZoomAnimation:!0},showMap:!0}},watch:{ct:function(t){this.cucc(t[0],t[1])}},created:function(){var t=this;f.$on("storemaprs",(function(e){return[t.currentSelected=e]}))},methods:{cucc:function(t,e){var a=this,n=It.a.latLng(t,e);this.center=n,this.currentCenter=n,setTimeout((function(){a.zoom=11}),500)},markerClicked:function(t){this.currentSelected=t,f.$emit("storemap",t)},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},showLongText:function(){this.showParagraph=!this.showParagraph},setLatLng:function(t,e){return It.a.latLng(t,e)},setIcon:function(t){return It.a.icon({iconUrl:"https://i.ibb.co/yPnJyxS/cds.png",iconSize:[t,t],iconAnchor:[t/2,t/2]})}}},Xe=Qe,ta=Object(d["a"])(Xe,Ye,Ze,!1,null,null,null),ea=ta.exports,aa=a("f13c"),na=a.n(aa),ra={name:"storelist",components:{storemap:ea},data:function(){return{loading:!1,api:"https://store.covid19uk.live/store/",api_single:"https://store.covid19uk.live/storesingle/",la:!1,lo:!1,stores:["Tesco","Sainsbury","Coop","ASDA","Lidl","Aldi","Boots","Waitrose"],selected:"Tesco",mapSelected:0,tryTime:0,currentStore:[],storeRes:[],listInfo:[],searchInput:"",mapCenter:[],screenHeight:0,output:""}},created:function(){this.getCurrentLoc(),this.autoByLast()},mounted:function(){var t=this,e=!1,a={container:"#sl-list",easing:"ease-in",offset:0,force:!0,cancelable:!1,onStart:function(t){},onDone:function(t){e=!1},onCancel:function(){},x:!1,y:!0};this.screenHeight=screen.height;var n=this.$refs.slList,r=100;n.addEventListener("scroll",(function(a){0==e&&t.selectFromList(Math.floor(n.scrollTop/r))})),window.addEventListener("resize",(function(){t.screenHeight=screen.height})),f.$on("storemap",(function(n){t.mapSelected=n,e=!0,na.a.scrollTo(t.$refs["sl-"+n][0],300,a)}))},methods:{autoByLast:function(){if(S.a.get("cuk19-location")&&S.a.get("cuk19-store")){var t=S.a.get("cuk19-location"),e=S.a.get("cuk19-store"),a=S.a.get("cuk19-po")?S.a.get("cuk19-po"):"";this.la=t.la,this.lo=t.lo,this.searchInput=a,this.selected=e,this.checkNearby()}},getCurrentLoc:function(){var t=this;this.loading=!0,navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){t.la=e.coords.latitude,t.lo=e.coords.longitude,t.checkNearby(),t.loading=!1})):this.loading=!1,setTimeout((function(){t.loading=!1}),3e3)},selectFromList:function(t){t<this.storeRes.length-1&&(this.mapSelected=t,f.$emit("storemaprs",t))},checkNearby:function(){var t=this;this.loading=!0,this.la&&this.la?(S.a.set("cuk19-location",{la:this.la,lo:this.lo}),S.a.set("cuk19-store",this.selected),j(this.api,[{name:"n",val:this.selected.toLowerCase()}],!0,(function(e){t.currentStore=e.data.data,t.findStoreByGeo(t.la,t.lo),t.loading=!1,t.listBarStatus()}))):(alert("Please input Postcode"),this.loading=!1)},listClicked:function(t){t.store=this.selected.toLowerCase(),f.$emit("slclick",t)},changed:function(){this.la&&this.lo&&this.checkNearby()},calOverall:function(t){var e=2*t.d_vegfru+2*t.d_meatfish+2*t.d_bread+2*t.d_milk+2*t.d_egg;return 100*(e/100).toFixed(2)},checkNearbyWithPo:function(){var t=this;this.searchInput.length>0?(this.loading=!0,K(this.searchInput,(function(e){e.status?(t.la=e.data.result.latitude,t.lo=e.data.result.longitude,t.checkNearby(),S.a.set("cuk19-po",t.searchInput)):alert("Invalid postcode"),t.loading=!1}))):alert("no input")},findStoreByGeo:function(t,e,a){var n=[];a=a||5;for(var r=0;r<this.currentStore.length;r++){var i=Z(t,e,this.currentStore[r].latitude,this.currentStore[r].longitude);i<a&&n.push(this.currentStore[r])}return n.length>0||a>100?(this.storeRes=n,void(this.mapCenter=[t,e])):this.tryTime>10?void(this.tryTime=0):(this.findStoreByGeo(name,t,e,a+10),void(this.tryTime=this.tryTime+1))},listBarStatus:function(){for(var t=this,e=[],a=0;a<this.storeRes.length;a++)e.push(this.storeRes[a]["id"]);j(this.api_single,[{name:"n",val:this.selected.toLowerCase()},{name:"sid",val:String(e)}],!0,(function(e){t.listInfo=e.data.data}))}}},ia=ra,sa=(a("4bbe"),Object(d["a"])(ia,qe,Je,!1,null,"b7e372dc",null)),oa=sa.exports,ca={name:"store",components:{storelist:oa,alert:_},data:function(){return{alt:{tit:"What is stock checker?",content:"This pilot feature allows the users to share the stock information - Everyone is encouraged to share the shelf conditions and stock insights from their local supermarket visits. While the onsite crowdsourcing data aims to help people better plan their grocery activity, we do appreciate there might be lack of update or entry error. Please use your genuine data contribution to help your neighbourhood stay safe.",submit:"Agree"}}},created:function(){var t=this;f.$on("slclick",(function(e){t.$router.push({path:"/storesingle",query:{n:e.sname,id:e.id,s:e.store}})}))}},la=ca,da=Object(d["a"])(la,He,We,!1,null,null,null),ua=da.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("div",{attrs:{id:"storesingle"}},[a("div",{attrs:{id:"ss-info-cont"}},[a("div",{attrs:{id:"ss-title"}},[a("p",[t._v(t._s(t.sdata.sname))])]),a("div",{attrs:{id:"ss-add"}},[a("p",[t._v(t._s(t.sdata.address))])]),t._m(0),t.need?a("div",{staticStyle:{background:"#FB3D48",color:"#fff","font-weight":"bold",padding:"4px","border-radius":"2px","font-size":"14px"},on:{click:function(e){return t.toUp()}}},[a("span",[t._v("Data out dated. Update it")])]):t._e()]),a("div",{attrs:{id:"ss-store-cont"}},[a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Vegetable & Fruit:")]),0!=t.checkAva(t.sdata.d_vegfru)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_vegfru)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Meat & Fish:")]),0!=t.checkAva(t.sdata.d_meatfish)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_meatfish)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Bread & Rice:")]),0!=t.checkAva(t.sdata.d_bread)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_bread)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Milk:")]),0!=t.checkAva(t.sdata.d_milk)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_milk)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Eggs:")]),0!=t.checkAva(t.sdata.d_egg)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_egg)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Toilet Paper: ")]),0!=t.checkAva(t.sdata.d_paper)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_paper)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticClass:"ss-store-s"},[a("p",[t._v("Hand sanitizer:")]),0!=t.checkAva(t.sdata.d_handgel)?a("progress",{attrs:{id:"file",max:"5"},domProps:{value:t.checkAva(t.sdata.d_handgel)}}):a("div",{staticClass:"ss-store-s-na"},[t._v("Not Available")])]),a("div",{staticStyle:{"font-size":"14px"},attrs:{id:"ss-store-s"}},[a("p",[t._v("Update by: "+t._s(t.sdata.user))]),a("p",[t._v("Update Time: "+t._s(t.parseTs(t.sdata.ts)))])])]),a("div",{attrs:{id:"ss-update"},on:{click:function(e){return t.toUp()}}},[t._m(1)])]):t._e()},pa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ss-notice"}},[a("p",[t._v("The following content contributed collectively by internet users. We encourage everyone to share the stock information to avoid the mass flow in the shipping area and unnecessary exposure.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ss-update-inner"}},[a("span",[t._v("UPDATE")])])}],ma={name:"storesingle",data:function(){return{loaded:!1,api:"https://store.covid19uk.live/storesingle/",sid:"",sname:"",store:"",sdata:{},need:!1}},created:function(){this.sname=this.$route.query.n,this.sid=this.$route.query.id,this.store=this.$route.query.s,this.getData(this.store,this.sid)},methods:{getData:function(t,e){var a=this;j(this.api,[{name:"n",val:t},{name:"sid",val:e}],!0,(function(t){a.sdata=t.data.data[0],a.loaded=!0,(!a.sdata.ts||Math.abs(a.sdata.ts-Date.now())>216e5)&&(a.need=!0)}))},toUp:function(){this.$router.push({path:"/storeup",query:{sname:this.sdata.sname,sid:this.sdata.id,store:this.store,add:this.sdata.address}})},parseTs:function(t){return W(t)},checkAva:function(t){return t||0}}},fa=ma,ga=(a("2215"),Object(d["a"])(fa,ha,pa,!1,null,"38c50629",null)),va=ga.exports,ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"storeup"}},[a("div",{attrs:{id:"ss-info-cont"}},[a("div",{attrs:{id:"ss-title"}},[a("p",[t._v(t._s(t.sname))])]),a("div",{attrs:{id:"ss-add"}},[a("p",[t._v(t._s(t.add))])]),t._m(0)]),a("div",{attrs:{id:"su-ques"}},[t._l(t.ques,(function(e,n){return a("div",{key:n,staticClass:"su-ques-s"},[a("div",[a("p",[t._v(t._s(e.name))])]),a("div",{staticClass:"su-ques-s-m"},[a("star-rating",{attrs:{"star-size":24,padding:10,"inactive-color":"#333","active-color":"#fff"},model:{value:e.val,callback:function(a){t.$set(e,"val",a)},expression:"item.val"}})],1),a("button",{on:{click:function(t){e.val=0!=e.val?0:3}}},[t._v(t._s(0!=e.val?"Unavailable":"Available"))])])})),a("div",{staticClass:"su-ques-s"},[a("div",[t._v("Contributor: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text",placeholder:"Anonymous"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})])],2),a("div",{attrs:{id:"ss-update"},on:{click:function(e){return t.submit()}}},[t._m(1)])])},_a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ss-notice"}},[a("p",[t._v("We have no resource to check every submission so we can only hope one is a honest man/woman.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ss-update-inner"}},[a("span",[t._v("SUBMIT")])])}],ya=a("c1da"),wa=a.n(ya),Ca={name:"storeup",components:{StarRating:wa.a},data:function(){return{api:"https://store.covid19uk.live/up/",sid:null,sname:null,add:null,store:null,markUp:!0,user:"",ques:[{name:"Vegetable & Fruit",key:"d_vegfru",val:3},{name:"Meat & Fish",key:"d_meatfish",val:3},{name:"Bread & Rice",key:"d_bread",val:3},{name:"Milk",key:"d_milk",val:3},{name:"Eggs",key:"d_egg",val:3},{name:"Toilet Paper",key:"d_paper",val:3},{name:"Hand sanitizer",key:"d_handgel",val:3}],marks:[1,3,5]}},created:function(){(this.$route.query.sid||this.$route.query.sname)&&(this.sid=this.$route.query.sid,this.sname=this.$route.query.sname,this.store=this.$route.query.store,this.add=this.$route.query.add)},methods:{submit:function(){var t=this,e={sname:this.store,sid:this.sid,data:this.constPD()};e.data.user=this.user?this.user:"Anonymous",e.data.user=Q(this.user),V(this.api,e,!0,(function(e){e.status?(alert("Successfully updated. You've done a great help!"),t.$router.replace({path:"/store"})):alert("unknow error")}))},constPD:function(){for(var t={},e=0;e<this.ques.length;e++)t[this.ques[e]["key"]]=this.ques[e]["val"];return t}}},Da=Ca,ka=(a("d4ee"),Object(d["a"])(Da,ba,_a,!1,null,"4e3d5c64",null)),Sa=ka.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("div",{attrs:{id:"fullchart"}},[t.scrollNotice?a("div",{staticClass:"scroll-notice"},[a("div",{staticClass:"sn-inner"},[a("div",{staticClass:"sn-inner-img"},[a("img",{attrs:{src:"./img/cscroll.gif",alt:"scroll your phone",width:"80px"}})]),a("div",{staticClass:"sn-inner-txt"},[a("span",[t._v(t._s(t.getLang("Rotate your device")))])]),a("div",{staticClass:"fc-back",staticStyle:{"margin-top":"10px"}},[a("span",{on:{click:function(e){return t.back()}}},[t._v(t._s(t.getLang("BACK")))])])])]):t._e(),a("apexchart",{ref:"chart-"+t.d.name,attrs:{width:"100%",height:t.ch+"px",type:t.d.type,options:t.d.options,series:t.d.data}}),a("div",{staticClass:"fc-notice"},[t._v("("+t._s(t.getLang("Built for PC"))+")")]),a("div",{staticClass:"fc-back"},[a("span",{on:{click:function(e){return t.back()}}},[t._v(t._s(t.getLang("BACK")))])])],1):t._e()},La=[],Aa={name:"fullchart",data:function(){return{d:{},ch:0,loaded:!1,scrollNotice:!1}},mounted:function(){var t=this;this.screenCheck(),this.ch=Math.floor(window.innerHeight)-110,this.d.options&&(this.d.options.dataLabels.enabled=!0),window.addEventListener("resize",(function(){t.screenCheck()}))},created:function(){if(this.$route){if("string"==typeof this.$route.query.d)return void this.$router.push({path:"/"});this.d=this.$route.query.d,this.d.options.chart.toolbar.show=!0,this.d.options.chart.zoom.enabled=!0,this.loaded=!0}else console.log("no data")},methods:{back:function(){this.$router.go(-1)},screenCheck:function(){window.innerHeight>window.innerWidth&&window.innerWidth<700?this.scrollNotice=!0:(this.ch=Math.floor(window.innerHeight)-110,this.scrollNotice=!1)},getLang:function(t){return"zh-CN"!=navigator.language?t:C(t)}}},Fa=Aa,Pa=(a("d8a1"),Object(d["a"])(Fa,xa,La,!1,null,"0d2105c6",null)),Na=Pa.exports,Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"slots"}},[a("div",{attrs:{id:"slots-input"}},[a("div",{attrs:{id:"slots-store"}},[a("div",{attrs:{id:"sl-select"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?a:a[0]},function(e){return t.changed()}]}},t._l(t.stores,(function(e,n){return a("option",{key:n},[t._v(t._s(e))])})),0)]),a("div",{attrs:{id:"sl-sinput"}},[a("div",{attrs:{id:"sl-sinput-box"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{type:"text",placeholder:"UK Postcode"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})]),a("div",{attrs:{id:"sl-sinput-check"}},[a("button",{on:{click:function(e){return t.getData()}}},[t._v("Search")])])]),a("div",{style:"height:"+(t.screenHeight>0?t.screenHeight-365:300)+"px;",attrs:{id:"sl-list"}},[t._l(t.slotRes,(function(e,n){return a("div",{key:n,staticClass:"sl-s"},[a("div",{staticClass:"sl-s-info"},[a("div",{staticClass:"sl-s-name"},[t._v(" "+t._s(e.start)+" ")]),a("div",{staticClass:"sl-s-add"},[t._v(" Delivery Fee: £"+t._s(e.price)+" ")])])])})),t.slotRes.length<1?a("div",{staticStyle:{"margin-top":"30px",opacity:"0.2"}},[a("span",[t._v("Search Available By Postcode")])]):t._e()],2)])]),a("div",{attrs:{id:"slots-sub"},on:{click:function(e){t.openSub=!t.openSub}}},[a("div",{attrs:{id:"slots-sub-inner"}},[t._v("Subscribe")])]),t.openSub?a("div",{attrs:{id:"slots-form"}},[a("div",{attrs:{id:"slots-form-close"}},[a("img",{attrs:{src:"./img/close.svg",width:"30px",alt:"close slots"},on:{click:function(e){t.openSub=!1}}})]),a("div",{attrs:{id:"slots-form-inner"}},[a("h2",[t._v("Subscribe")]),a("div",[a("div",{staticClass:"slots-form-s"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.store,expression:"form.store"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"store",e.target.multiple?a:a[0])},function(e){return t.changed()}]}},t._l(t.stores,(function(e,n){return a("option",{key:n},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"slots-form-s"},[t._v(" Email: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"slots-form-s"},[t._v(" Postcode: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pc,expression:"form.pc"}],attrs:{type:"text"},domProps:{value:t.form.pc},on:{input:function(e){e.target.composing||t.$set(t.form,"pc",e.target.value)}}})]),a("input",{attrs:{type:"submit"},on:{click:function(e){return t.sub()}}})])])]):t._e()])},Ea=[],Ia={name:"slots",data:function(){return{api:"https://delislot.ml/qs",api_sub:"https://delislot.ml/subs",stores:["ASDA"],openSub:!1,selected:"ASDA",searchInput:"",slotRes:[],screenHeight:0,form:{store:"ASDA",email:"",pc:""}}},mounted:function(){var t=this;this.screenHeight=screen.height,window.addEventListener("resize",(function(){t.screenHeight=screen.height}))},methods:{getData:function(){var t=this;if(this.searchInput.length>3){var e={pc:this.searchInput};V(this.api,e,!0,(function(e){t.slotRes=e.data}))}else alert("Please input vaild UK postcode")},sub:function(){var t=this,e={email:this.form.email,pc:this.form.pc,src:0,sleep:!1};B(this.api_sub,e,!0,(function(e){e.status&&(t.openSub=!1,alert("Success. We will notify you when slot available."))}))}}},Ta=Ia,$a=(a("7bea"),Object(d["a"])(Ta,Oa,Ea,!1,null,"6a85d0ed",null)),za=$a.exports;n["a"].use(O["a"]);var Ra=new O["a"]({mode:"hash",base:"/",routes:[{path:"/",name:"home",component:Ge},{path:"/index.html",name:"index",redirect:Ge},{path:"/index",name:"index",redirect:Ge},{path:"/store",name:"store",component:ua},{path:"/storeup",name:"storeup",component:Sa},{path:"/fullchart",name:"fullchart",component:Na},{path:"/storesingle",name:"storesingle",component:va},{path:"/slots",name:"slots",component:za}]});a("6cc5");n["a"].use(N.a),n["a"].component("apexchart",N.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(F)},router:Ra}).$mount("#app")},5851:function(t,e,a){"use strict";var n=a("829d"),r=a.n(n);r.a},"59b2":function(t,e,a){"use strict";var n=a("21f4"),r=a.n(n);r.a},"5ff9":function(t,e,a){},6697:function(t,e,a){},"7b66":function(t,e,a){},"7bea":function(t,e,a){"use strict";var n=a("db31"),r=a.n(n);r.a},"827a":function(t,e,a){},"829d":function(t,e,a){},"82de":function(t,e,a){},"84e0":function(t,e,a){"use strict";var n=a("7b66"),r=a.n(n);r.a},"85ec":function(t,e,a){},"8a30":function(t,e,a){"use strict";var n=a("dcd7"),r=a.n(n);r.a},a45a:function(t,e,a){},a667:function(t,e,a){},a9c4:function(t,e,a){"use strict";var n=a("a667"),r=a.n(n);r.a},ab21:function(t,e,a){},abed:function(t,e,a){},b0fe:function(t,e,a){"use strict";var n=a("2217"),r=a.n(n);r.a},c6ea:function(t,e,a){"use strict";var n=a("abed"),r=a.n(n);r.a},d094:function(t,e,a){"use strict";var n=a("5ff9"),r=a.n(n);r.a},d4bf:function(t,e,a){"use strict";var n=a("82de"),r=a.n(n);r.a},d4ee:function(t,e,a){"use strict";var n=a("ab21"),r=a.n(n);r.a},d8a1:function(t,e,a){"use strict";var n=a("f44d"),r=a.n(n);r.a},db31:function(t,e,a){},dbb2:function(t,e,a){"use strict";var n=a("827a"),r=a.n(n);r.a},dcd7:function(t,e,a){},e7e4:function(t,e,a){"use strict";var n=a("4002"),r=a.n(n);r.a},eca1:function(t,e,a){},f413:function(t,e,a){},f44d:function(t,e,a){}});
//# sourceMappingURL=app.95489b9d.js.map